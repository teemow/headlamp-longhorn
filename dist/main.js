(function(u,t){typeof exports=="object"&&typeof module<"u"?t(require("@kinvolk/headlamp-plugin/lib"),require("react/jsx-runtime"),require("@kinvolk/headlamp-plugin/lib/components/common"),require("@kinvolk/headlamp-plugin/lib/Utils"),require("@kinvolk/headlamp-plugin/lib/lib/k8s/crd"),require("react"),require("@mui/material"),require("react-router-dom")):typeof define=="function"&&define.amd?define(["@kinvolk/headlamp-plugin/lib","react/jsx-runtime","@kinvolk/headlamp-plugin/lib/components/common","@kinvolk/headlamp-plugin/lib/Utils","@kinvolk/headlamp-plugin/lib/lib/k8s/crd","react","@mui/material","react-router-dom"],t):(u=typeof globalThis<"u"?globalThis:u||self,t(u.pluginLib,u.pluginLib.ReactJSX,u.pluginLib.CommonComponents,u.pluginLib.Utils,u.pluginLib.Crd,u.pluginLib.React,u.pluginLib.MuiMaterial,u.pluginLib.ReactRouter))})(this,function(u,t,o,w,B,F,v,I){"use strict";const q=(a=>a&&typeof a=="object"&&"default"in a?a:{default:a})(F),M="longhorn.io",A="v1beta2";function k(){return B.makeCustomResourceClass({apiInfo:[{group:M,version:A}],isNamespaced:!0,singularName:"Volume",pluralName:"volumes"})}const K="bcdfghjklmnpqrstvwxyz";function U(a){const n={Volume:"volumes",Node:"nodes",Engine:"engines",Replica:"replicas",BackupTarget:"backuptargets",Backup:"backups",Setting:"settings",RecurringJob:"recurringjobs",Snapshot:"snapshots",InstanceManager:"instancemanagers",ShareManager:"sharemanagers",EngineImage:"engineimages",BackingImage:"backingimages",BackingImageManager:"backingimagemanagers",BackingImageDataSource:"backingimagedatasources",VolumeAttachment:"volumeattachments",Orphan:"orphans",SystemBackup:"systembackups",SystemRestore:"systemrestores",VolumeRestore:"volumerestores",VolumeRebuilding:"volumerebuildings"};if(n[a])return n[a];const e=a.toLowerCase(),i=e.substring(e.length-1,e.length),l=e.substring(e.length-2,e.length-1);switch(i){case"s":case"x":case"z":return e+"es";case"y":return $(l)?z(e):b(e);case"h":return l==="c"||l==="s"?E(e):b(e);case"e":return l==="f"?y(e.substring(0,e.length-1)):b(e);case"f":return y(e);default:return b(e)}}function E(a){return a+"es"}function z(a){return a.substring(0,a.length-1)+"ies"}function b(a){return a+"s"}function y(a){return a.substring(0,a.length-1)+"ves"}function $(a){return K.indexOf(a)>=0}function L(a,n){return U(a.kind),{header:"Name",accessorKey:"metadata.name",Cell:({cell:e,row:i})=>t.jsx(o.Link,{routeName:`${n}`,params:{name:i.original.metadata.name,namespace:i.original.metadata.namespace},children:t.jsx("span",{children:e.getValue()})})}}function O(a){var r,s,d,g;const{item:n}=a;if(!((r=n==null?void 0:n.jsonData)!=null&&r.status))return t.jsx("span",{children:"-"});const e=n.jsonData.status.state;if(e){let c="",m=e;switch(e.toLowerCase()){case"attached":case"healthy":c="success";break;case"detached":case"degraded":case"creating":case"rebuilding":c="warning";break;case"faulted":case"error":c="error";break;default:c="warning";break}return t.jsx(o.StatusLabel,{status:c,children:m})}const i=(s=n.jsonData.status.conditions)==null?void 0:s.find(c=>c.type==="Ready");if(!i)return t.jsx("span",{children:"-"});if((g=(d=n==null?void 0:n.jsonData)==null?void 0:d.spec)!=null&&g.suspend)return t.jsx(o.StatusLabel,{status:"warning",children:"Suspended"});if(i.status==="Unknown")return t.jsx(o.StatusLabel,{status:"warning",children:"Reconcilingâ€¦"});if(i.reason==="DependencyNotReady")return t.jsx(o.StatusLabel,{status:"warning",children:t.jsx(v.Tooltip,{title:i.message,children:"Waiting"})});const l=i.status==="True";return t.jsx(o.StatusLabel,{status:l?"success":"error",children:t.jsx(v.Tooltip,{title:i.message,children:l?"Ready":"Failed"})})}function _(a){var e,i,l,r,s;const n=(l=(i=(e=a==null?void 0:a.jsonData)==null?void 0:e.status)==null?void 0:i.conditions)==null?void 0:l.find(d=>d.type==="Ready");return(n==null?void 0:n.lastTransitionTime)||((s=(r=a==null?void 0:a.jsonData)==null?void 0:r.metadata)==null?void 0:s.creationTimestamp)}function S(a={}){const{routeName:n,routeNamePrefix:e,resourceClass:i,...l}=a;return delete l.extends,e&&i?L(i,e):{header:"Name",accessorKey:"metadata.name",...n?{Cell:({row:{original:r}})=>t.jsx(o.Link,{routeName:n,params:{name:r.metadata.name,namespace:r.metadata.namespace},children:r.metadata.name})}:{},...l}}function H(a){const{columns:n,data:e,...i}=a,l=q.default.useMemo(()=>n.map(r=>{if(typeof r=="string")switch(r){case"namespace":return{header:"Namespace",accessorKey:"metadata.namespace",Cell:({row:{original:s}})=>t.jsx(o.Link,{routeName:"namespace",params:{name:s.metadata.namespace},children:s.metadata.namespace})};case"name":return S();case"lastUpdated":return{header:"Last Updated",accessorFn:s=>_(s),Cell:({cell:s})=>t.jsx(o.DateLabel,{format:"mini",date:s.getValue()})};case"age":return{id:"age",header:"Age",gridTemplate:"min-content",accessorFn:s=>-new Date(s.metadata.creationTimestamp).getTime(),enableColumnFilter:!1,muiTableBodyCellProps:{align:"right"},Cell:({row:s})=>s.original&&t.jsx(o.DateLabel,{date:s.original.metadata.creationTimestamp,format:"mini"})};case"status":return{header:"Status",accessorFn:s=>t.jsx(O,{item:s})};case"message":return{header:"Message",accessorFn:s=>{var g,c,m,f;const d=(m=(c=(g=s.jsonData.status)==null?void 0:g.conditions)==null?void 0:c.find(p=>p.type==="Ready"))==null?void 0:m.message;return t.jsx(o.ShowHideLabel,{labelId:`${(f=s==null?void 0:s.metadata)==null?void 0:f.uid}-message`,children:d??""})}};default:return{header:r,accessorKey:r}}return r.extends==="name"&&r.routeNamePrefix||r.extends==="name"?S(r):r}),[n]);return t.jsx(o.Table,{data:e,loading:e===null,muiTableBodyRowProps:({row:r})=>{var s,d;return{key:((d=(s=r.original)==null?void 0:s.metadata)==null?void 0:d.uid)??JSON.stringify(r.original)}},...i,columns:l})}function J(){const a=w.useFilterFunc(),[n,e]=k().useList();return(e==null?void 0:e.status)===404?t.jsx(o.SectionBox,{title:"Volumes",children:"Longhorn Volumes CRD not found."}):e?t.jsxs(o.SectionBox,{title:"Volumes",children:["Error loading Volumes: ",e.message]}):t.jsx(o.SectionBox,{title:t.jsx(o.SectionFilterHeader,{title:"Volumes"}),children:t.jsx(H,{data:n,columns:[L(k(),"longhorn/volumes"),"namespace",{header:"State",accessorKey:"status.state"},{header:"Size",accessorKey:"spec.size"},{header:"Node",accessorKey:"status.currentNodeID"},{header:"Attached",accessorFn:i=>{var l;return((l=i.status)==null?void 0:l.state)==="attached"?"Yes":"No"}},"age"],filterFunction:a})})}function Y(){var s,d,g,c,m,f;const{namespace:a,name:n}=I.useParams(),[e,i]=k().useGet(n,a);if(i)return t.jsxs(o.SectionBox,{title:`Volume ${n}`,children:["Error loading Volume: ",i.message]});function l(p){var N,D,C,j,T,x,V,P;if(!p)return[];const h=p.jsonData;return[{name:"State",value:((N=h.status)==null?void 0:N.state)||"-"},{name:"Size",value:((D=h.spec)==null?void 0:D.size)||"-"},{name:"Node",value:((C=h.status)==null?void 0:C.currentNodeID)||"-"},{name:"Attached",value:((j=h.status)==null?void 0:j.state)==="attached"?"Yes":"No"},{name:"Robustness",value:((T=h.status)==null?void 0:T.robustness)||"-"},{name:"Replicas",value:((x=h.spec)==null?void 0:x.numberOfReplicas)||"-"},{name:"Frontend",value:((V=h.spec)==null?void 0:V.frontend)||"-"},{name:"Stale Replica Timeout",value:`${((P=h.spec)==null?void 0:P.staleReplicaTimeout)||"-"} min`}]}function r(){return[]}return t.jsxs(t.Fragment,{children:[t.jsx(o.MainInfoSection,{resource:e,extraInfo:l(e),actions:r()}),((d=(s=e==null?void 0:e.jsonData)==null?void 0:s.status)==null?void 0:d.conditions)&&t.jsx(o.SectionBox,{title:"Conditions",children:t.jsx(o.ConditionsTable,{resource:e.jsonData,showLastUpdate:!0})}),((c=(g=e==null?void 0:e.jsonData)==null?void 0:g.status)==null?void 0:c.replicas)&&t.jsx(o.SectionBox,{title:"Replicas",children:t.jsx(o.NameValueTable,{rows:e.jsonData.status.replicas.map(p=>({name:p.name,value:`Mode: ${p.mode}, Healthy: ${p.healthyAt?"Yes":"No"}`}))})}),((f=(m=e==null?void 0:e.jsonData)==null?void 0:m.status)==null?void 0:f.kubernetesStatus)&&t.jsx(o.SectionBox,{title:"Kubernetes Status",children:t.jsx(o.NameValueTable,{rows:[{name:"PV Name",value:e.jsonData.status.kubernetesStatus.pvName||"-"},{name:"PV Status",value:e.jsonData.status.kubernetesStatus.pvStatus||"-"},{name:"PVC Name",value:e.jsonData.status.kubernetesStatus.pvcName||"-"},{name:"Namespace",value:e.jsonData.status.kubernetesStatus.namespace||"-"},{name:"Last Pod Ref At",value:e.jsonData.status.kubernetesStatus.lastPodRefAt||"-"}]})})]})}u.registerSidebarEntry({parent:null,name:"longhorn",label:"Longhorn",url:"/longhorn",icon:"mdi:cow"}),u.registerSidebarEntry({parent:"longhorn",name:"volumes",label:"Volumes",url:"/longhorn/volumes"}),u.registerRoute({path:"/longhorn/volumes",name:"longhorn/volumes",parent:"longhorn",sidebar:"volumes",component:J,exact:!0}),u.registerRoute({path:"/longhorn/volumes/:namespace/:name",name:"longhorn/volume/detail",parent:"longhorn",sidebar:"volumes",component:Y,exact:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2xvbmdob3JuL2NyZC50cyIsIi4uL3NyYy9oZWxwZXJzL3BsdXJhbE5hbWUudHN4IiwiLi4vc3JjL2hlbHBlcnMvaW5kZXgudHN4IiwiLi4vc3JjL2NvbW1vbi9TdGF0dXNMYWJlbC50c3giLCIuLi9zcmMvY29tbW9uL1RhYmxlLnRzeCIsIi4uL3NyYy9sb25naG9ybi9Wb2x1bWVMaXN0LnRzeCIsIi4uL3NyYy9sb25naG9ybi9Wb2x1bWVEZXRhaWwudHN4IiwiLi4vc3JjL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvbGliL2s4cy9jcmQnO1xuXG5jb25zdCBsb25naG9ybkdyb3VwID0gJ2xvbmdob3JuLmlvJztcbi8vIEFzc3VtaW5nIHYxYmV0YTIgaXMgdGhlIGNvbW1vbiB2ZXJzaW9uLCBhZGp1c3QgaWYgbmVlZGVkIGJhc2VkIG9uIHlvdXIgY2x1c3Rlci5cbmNvbnN0IGxvbmdob3JuVmVyc2lvbiA9ICd2MWJldGEyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZvbHVtZUNsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1ZvbHVtZScsXG4gICAgcGx1cmFsTmFtZTogJ3ZvbHVtZXMnLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVDbGFzcygpIHtcbiAgcmV0dXJuIG1ha2VDdXN0b21SZXNvdXJjZUNsYXNzKHtcbiAgICBhcGlJbmZvOiBbeyBncm91cDogbG9uZ2hvcm5Hcm91cCwgdmVyc2lvbjogbG9uZ2hvcm5WZXJzaW9uIH1dLFxuICAgIGlzTmFtZXNwYWNlZDogdHJ1ZSwgLy8gTm9kZXMgYXJlIHR5cGljYWxseSBuYW1lc3BhY2VkIHRvIGxvbmdob3JuLXN5c3RlbVxuICAgIHNpbmd1bGFyTmFtZTogJ05vZGUnLFxuICAgIHBsdXJhbE5hbWU6ICdub2RlcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5naW5lQ2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnRW5naW5lJyxcbiAgICBwbHVyYWxOYW1lOiAnZW5naW5lcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGljYUNsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1JlcGxpY2EnLFxuICAgIHBsdXJhbE5hbWU6ICdyZXBsaWNhcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFja3VwVGFyZ2V0Q2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnQmFja3VwVGFyZ2V0JyxcbiAgICBwbHVyYWxOYW1lOiAnYmFja3VwdGFyZ2V0cycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFja3VwQ2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnQmFja3VwJyxcbiAgICBwbHVyYWxOYW1lOiAnYmFja3VwcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ0NsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1NldHRpbmcnLFxuICAgIHBsdXJhbE5hbWU6ICdzZXR0aW5ncycsXG4gIH0pO1xufVxuXG4vLyBBZGQgb3RoZXIgTG9uZ2hvcm4gQ1JEIGNsYXNzZXMgYXMgbmVlZGVkLi4uXG4vLyBlLmcuLCBSZWN1cnJpbmdKb2IsIFNuYXBzaG90LCBJbnN0YW5jZU1hbmFnZXIsIFNoYXJlTWFuYWdlciwgZXRjLiAiLCIvLyBNZXRob2QgdG8gZGVyaXZlIFBsdXJhbCBuYW1lIGZvciBhIGs4cyBraW5kLlxuLy8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2t1YmVybmV0ZXMvZ2VuZ28vYmxvYi9tYXN0ZXIvbmFtZXIvcGx1cmFsX25hbWVyLmdvIChjb252ZXJ0ZWQgZnJvbSBnbyB0byB0eXBlc2NyaXB0KS5cbi8vXG4vLyBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCBiZWNhdXNlIHRoZSBrdXN0b21pemF0aW9uIGludmVudG9yeSBwcm92aWRlcyBvbmx5IHRoZSBzaW5ndWxhciBuYW1lIG9mIHRoZSBlbnRyeSxcbi8vIHdoZXJlYXMgdGhlIGs4cyBSRVNUIEFQSSBleHBlY3RzIGEgcGx1cmFsIG5hbWUuXG5cbmltcG9ydCB7IGluZGV4T2YgfSBmcm9tICdsb2Rhc2gnOyAvLyBBc3N1bWluZyBsb2Rhc2ggaXMgYXZhaWxhYmxlIHZpYSBIZWFkbGFtcFxuXG5jb25zdCBjb25zb25hbnRzID0gJ2JjZGZnaGprbG1ucHFyc3R2d3h5eic7XG5cbi8vIE5hbWUgcmV0dXJucyB0aGUgcGx1cmFsIGZvcm0gb2YgdGhlIHR5cGUncyBuYW1lLlxuZXhwb3J0IGZ1bmN0aW9uIFBsdXJhbE5hbWUoa2luZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gSGFuZGxlIGtub3duIExvbmdob3JuIGtpbmRzIGV4cGxpY2l0bHkgZm9yIHNpbXBsaWNpdHksIHRob3VnaCB0aGUgZ2VuZXJpYyBsb2dpYyBtaWdodCB3b3JrLlxuICAvLyBBZGQgbW9yZSBzcGVjaWZpYyBtYXBwaW5ncyBpZiB0aGUgZ2VuZXJpYyBsb2dpYyBmYWlscyBmb3IgY2VydGFpbiBMb25naG9ybiBraW5kcy5cbiAgY29uc3Qga25vd25QbHVyYWxzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgIFZvbHVtZTogJ3ZvbHVtZXMnLFxuICAgIE5vZGU6ICdub2RlcycsXG4gICAgRW5naW5lOiAnZW5naW5lcycsXG4gICAgUmVwbGljYTogJ3JlcGxpY2FzJyxcbiAgICBCYWNrdXBUYXJnZXQ6ICdiYWNrdXB0YXJnZXRzJyxcbiAgICBCYWNrdXA6ICdiYWNrdXBzJyxcbiAgICBTZXR0aW5nOiAnc2V0dGluZ3MnLFxuICAgIFJlY3VycmluZ0pvYjogJ3JlY3VycmluZ2pvYnMnLFxuICAgIFNuYXBzaG90OiAnc25hcHNob3RzJyxcbiAgICBJbnN0YW5jZU1hbmFnZXI6ICdpbnN0YW5jZW1hbmFnZXJzJyxcbiAgICBTaGFyZU1hbmFnZXI6ICdzaGFyZW1hbmFnZXJzJyxcbiAgICBFbmdpbmVJbWFnZTogJ2VuZ2luZWltYWdlcycsXG4gICAgQmFja2luZ0ltYWdlOiAnYmFja2luZ2ltYWdlcycsXG4gICAgQmFja2luZ0ltYWdlTWFuYWdlcjogJ2JhY2tpbmdpbWFnZW1hbmFnZXJzJyxcbiAgICBCYWNraW5nSW1hZ2VEYXRhU291cmNlOiAnYmFja2luZ2ltYWdlZGF0YXNvdXJjZXMnLFxuICAgIFZvbHVtZUF0dGFjaG1lbnQ6ICd2b2x1bWVhdHRhY2htZW50cycsXG4gICAgT3JwaGFuOiAnb3JwaGFucycsXG4gICAgU3lzdGVtQmFja3VwOiAnc3lzdGVtYmFja3VwcycsXG4gICAgU3lzdGVtUmVzdG9yZTogJ3N5c3RlbXJlc3RvcmVzJyxcbiAgICBWb2x1bWVSZXN0b3JlOiAndm9sdW1lcmVzdG9yZXMnLFxuICAgIFZvbHVtZVJlYnVpbGRpbmc6ICd2b2x1bWVyZWJ1aWxkaW5ncycsXG4gICAgLy8gQWRkIG90aGVyIHNwZWNpZmljIG1hcHBpbmdzIGFzIG5lZWRlZFxuICB9O1xuXG4gIGlmIChrbm93blBsdXJhbHNba2luZF0pIHtcbiAgICByZXR1cm4ga25vd25QbHVyYWxzW2tpbmRdO1xuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gZ2VuZXJpYyBwbHVyYWxpemF0aW9uIGxvZ2ljIChhZGFwdGVkIGZyb20gRmx1eCBwbHVnaW4pXG4gIGNvbnN0IHNpbmd1bGFyID0ga2luZC50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBsYXN0Q2hhciA9IHNpbmd1bGFyLnN1YnN0cmluZyhzaW5ndWxhci5sZW5ndGggLSAxLCBzaW5ndWxhci5sZW5ndGgpO1xuICBjb25zdCBiZWZvcmVMYXN0Q2hhciA9IHNpbmd1bGFyLnN1YnN0cmluZyhzaW5ndWxhci5sZW5ndGggLSAyLCBzaW5ndWxhci5sZW5ndGggLSAxKTtcblxuICBzd2l0Y2ggKGxhc3RDaGFyKSB7XG4gICAgY2FzZSAncyc6XG4gICAgY2FzZSAneCc6XG4gICAgY2FzZSAneic6IHtcbiAgICAgIHJldHVybiBzaW5ndWxhciArICdlcyc7XG4gICAgfVxuICAgIGNhc2UgJ3knOlxuICAgICAgaWYgKGlzQ29uc29uYW50KGJlZm9yZUxhc3RDaGFyKSkge1xuICAgICAgICByZXR1cm4gaWVzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdoJzpcbiAgICAgIGlmIChiZWZvcmVMYXN0Q2hhciA9PT0gJ2MnIHx8IGJlZm9yZUxhc3RDaGFyID09PSAncycpIHtcbiAgICAgICAgcmV0dXJuIGVzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdlJzpcbiAgICAgIGlmIChiZWZvcmVMYXN0Q2hhciA9PT0gJ2YnKSB7XG4gICAgICAgIHJldHVybiB2ZXNQbHVyYWwoc2luZ3VsYXIuc3Vic3RyaW5nKDAsIHNpbmd1bGFyLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdmJzpcbiAgICAgIHJldHVybiB2ZXNQbHVyYWwoc2luZ3VsYXIpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc1BsdXJhbChzaW5ndWxhcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXNQbHVyYWwoc2luZ3VsYXI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzaW5ndWxhciArICdlcyc7XG59XG5mdW5jdGlvbiBpZXNQbHVyYWwoc2luZ3VsYXI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzaW5ndWxhci5zdWJzdHJpbmcoMCwgc2luZ3VsYXIubGVuZ3RoIC0gMSkgKyAnaWVzJztcbn1cblxuZnVuY3Rpb24gc1BsdXJhbChzaW5ndWxhcjogc3RyaW5nKSB7XG4gIHJldHVybiBzaW5ndWxhciArICdzJztcbn1cblxuZnVuY3Rpb24gdmVzUGx1cmFsKHNpbmd1bGFyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc2luZ3VsYXIuc3Vic3RyaW5nKDAsIHNpbmd1bGFyLmxlbmd0aCAtIDEpICsgJ3Zlcyc7XG59XG5cbmZ1bmN0aW9uIGlzQ29uc29uYW50KHJ1bmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29uc29uYW50cy5pbmRleE9mKHJ1bmUpID49IDA7IC8vIENoYW5nZWQgZnJvbSBpbmRleE9mIHRvIHN0YW5kYXJkIGluZGV4T2Zcbn0gIiwiaW1wb3J0IHsgTGluayB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvY29tcG9uZW50cy9jb21tb24nO1xuaW1wb3J0IHsgS3ViZU9iamVjdENsYXNzIH0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9saWIvazhzL2NsdXN0ZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBsdXJhbE5hbWUgfSBmcm9tICcuL3BsdXJhbE5hbWUnO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRhYmxlIGNvbHVtbiBkZWZpbml0aW9uIGZvciBsaW5raW5nIHRvIGEgcmVzb3VyY2UncyBkZXRhaWxzIHBhZ2UuXG4gKiBAcGFyYW0gcmVzb3VyY2VDbGFzcyBUaGUgS3ViZU9iamVjdENsYXNzIGZvciB0aGUgcmVzb3VyY2UuXG4gKiBAcGFyYW0gcm91dGVOYW1lUHJlZml4IEEgcHJlZml4IGZvciB0aGUgcm91dGUgbmFtZSAoZS5nLiwgJ2xvbmdob3JuL3ZvbHVtZXMnKSB0byBlbnN1cmUgdW5pcXVlbmVzcy5cbiAqIEByZXR1cm5zIEEgVGFibGVDb2wgb2JqZWN0IGZvciB0aGUgTmFtZSBjb2x1bW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYW1lTGluayhyZXNvdXJjZUNsYXNzOiBLdWJlT2JqZWN0Q2xhc3MsIHJvdXRlTmFtZVByZWZpeDogc3RyaW5nKSB7XG4gIGNvbnN0IHBsdXJhbE5hbWUgPSBQbHVyYWxOYW1lKHJlc291cmNlQ2xhc3Mua2luZCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWFkZXI6ICdOYW1lJyxcbiAgICBhY2Nlc3NvcktleTogJ21ldGFkYXRhLm5hbWUnLFxuICAgIENlbGw6ICh7IGNlbGwsIHJvdyB9OiB7IGNlbGw6IGFueTsgcm93OiB7IG9yaWdpbmFsOiBhbnkgfSB9KSA9PiAoXG4gICAgICA8TGlua1xuICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIHJvdXRlIG5hbWUgdXNpbmcgdGhlIHByZWZpeCBhbmQgcGx1cmFsIG5hbWVcbiAgICAgICAgcm91dGVOYW1lPXtgJHtyb3V0ZU5hbWVQcmVmaXh9YH1cbiAgICAgICAgcGFyYW1zPXt7XG4gICAgICAgICAgbmFtZTogcm93Lm9yaWdpbmFsLm1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgbmFtZXNwYWNlOiByb3cub3JpZ2luYWwubWV0YWRhdGEubmFtZXNwYWNlLFxuICAgICAgICAgIC8vIFBhc3MgcGx1cmFsTmFtZSBpZiBuZWVkZWQgYnkgdGhlIHJvdXRlLCBhZGp1c3QgYXMgbmVjZXNzYXJ5XG4gICAgICAgICAgLy8gcGx1cmFsTmFtZTogcGx1cmFsTmFtZSxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4+e2NlbGwuZ2V0VmFsdWUoKX08L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKSxcbiAgfTtcbn1cblxuLy8gQWRkIG90aGVyIGhlbHBlciBmdW5jdGlvbnMgYXMgbmVlZGVkLCBlLmcuLCBQbHVyYWxOYW1lLCBPYmplY3RFdmVudHMsIFN0YXR1c0xhYmVsIGFkYXB0YXRpb25zICIsImltcG9ydCB7IFN0YXR1c0xhYmVsIGFzIEhMU3RhdHVzTGFiZWwgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2NvbXBvbmVudHMvY29tbW9uJztcbmltcG9ydCB7IEt1YmVDUkQgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2xpYi9rOHMvY3JkJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBTdGF0dXNMYWJlbFByb3BzIHtcbiAgaXRlbTogS3ViZUNSRDtcbn1cblxuLy8gQmFzaWMgU3RhdHVzTGFiZWwgYWRhcHRlZCBmcm9tIEZsdXguIE5lZWRzIGN1c3RvbWl6YXRpb24gZm9yIExvbmdob3JuIHN0YXRlcy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0YXR1c0xhYmVsKHByb3BzOiBTdGF0dXNMYWJlbFByb3BzKSB7XG4gIGNvbnN0IHsgaXRlbSB9ID0gcHJvcHM7XG5cbiAgLy8gQ2hlY2sgaWYgaXRlbSBvciBqc29uRGF0YSBvciBzdGF0dXMgaXMgbnVsbC91bmRlZmluZWQgYmVmb3JlIGFjY2Vzc2luZyBwcm9wZXJ0aWVzXG4gIGlmICghaXRlbT8uanNvbkRhdGE/LnN0YXR1cykge1xuICAgIHJldHVybiA8c3Bhbj4tPC9zcGFuPjsgLy8gT3Igc29tZSBvdGhlciBwbGFjZWhvbGRlclxuICB9XG5cbiAgLy8gRXhhbXBsZTogVXNlIExvbmdob3JuJ3Mgc3BlY2lmaWMgc3RhdGUgaWYgYXZhaWxhYmxlXG4gIGNvbnN0IGxvbmdob3JuU3RhdGUgPSBpdGVtLmpzb25EYXRhLnN0YXR1cy5zdGF0ZTtcbiAgaWYgKGxvbmdob3JuU3RhdGUpIHtcbiAgICBsZXQgc3RhdHVzVHlwZTogJ3N1Y2Nlc3MnIHwgJ3dhcm5pbmcnIHwgJ2Vycm9yJyB8ICcnID0gJyc7XG4gICAgbGV0IHN0YXR1c1RleHQgPSBsb25naG9yblN0YXRlO1xuXG4gICAgc3dpdGNoIChsb25naG9yblN0YXRlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2F0dGFjaGVkJzpcbiAgICAgIGNhc2UgJ2hlYWx0aHknOiAvLyBBc3N1bWluZyAnaGVhbHRoeScgbWlnaHQgYmUgYSBzdGF0ZVxuICAgICAgICBzdGF0dXNUeXBlID0gJ3N1Y2Nlc3MnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RldGFjaGVkJzpcbiAgICAgIGNhc2UgJ2RlZ3JhZGVkJzogLy8gQXNzdW1pbmcgJ2RlZ3JhZGVkJyBtaWdodCBiZSBhIHN0YXRlXG4gICAgICBjYXNlICdjcmVhdGluZyc6IC8vIE9yIG90aGVyIGludGVybWVkaWF0ZSBzdGF0ZXNcbiAgICAgIGNhc2UgJ3JlYnVpbGRpbmcnOlxuICAgICAgICBzdGF0dXNUeXBlID0gJ3dhcm5pbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZhdWx0ZWQnOlxuICAgICAgY2FzZSAnZXJyb3InOiAvLyBBc3N1bWluZyAnZXJyb3InIG1pZ2h0IGJlIGEgc3RhdGVcbiAgICAgICAgc3RhdHVzVHlwZSA9ICdlcnJvcic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gS2VlcCB0ZXh0IGFzIGlzLCBtYXliZSBtYXJrIGFzIHVua25vd24vd2FybmluZ1xuICAgICAgICBzdGF0dXNUeXBlID0gJ3dhcm5pbmcnOyBcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiA8SExTdGF0dXNMYWJlbCBzdGF0dXM9e3N0YXR1c1R5cGV9PntzdGF0dXNUZXh0fTwvSExTdGF0dXNMYWJlbD47XG4gIH1cblxuICAvLyBGYWxsYmFjayB0byBnZW5lcmljIFJlYWR5IGNvbmRpdGlvbiBpZiBzdGF0ZSBpcyBub3QgcHJlc2VudCAobGlrZSBpbiBGbHV4KVxuICBjb25zdCByZWFkeSA9IGl0ZW0uanNvbkRhdGEuc3RhdHVzLmNvbmRpdGlvbnM/LmZpbmQoYyA9PiBjLnR5cGUgPT09ICdSZWFkeScpO1xuICBpZiAoIXJlYWR5KSB7XG4gICAgcmV0dXJuIDxzcGFuPi08L3NwYW4+O1xuICB9XG5cbiAgaWYgKGl0ZW0/Lmpzb25EYXRhPy5zcGVjPy5zdXNwZW5kKSB7XG4gICAgcmV0dXJuIDxITFN0YXR1c0xhYmVsIHN0YXR1cz1cIndhcm5pbmdcIj5TdXNwZW5kZWQ8L0hMU3RhdHVzTGFiZWw+O1xuICB9XG4gIGlmIChyZWFkeS5zdGF0dXMgPT09ICdVbmtub3duJykge1xuICAgIHJldHVybiA8SExTdGF0dXNMYWJlbCBzdGF0dXM9XCJ3YXJuaW5nXCI+UmVjb25jaWxpbmfigKY8L0hMU3RhdHVzTGFiZWw+O1xuICB9XG5cbiAgLy8gVGhpcyBwYXJ0IG1pZ2h0IG5lZWQgYWRqdXN0bWVudCBiYXNlZCBvbiBMb25naG9ybiBjb25kaXRpb24gcmVhc29uc1xuICBpZiAocmVhZHkucmVhc29uID09PSAnRGVwZW5kZW5jeU5vdFJlYWR5Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8SExTdGF0dXNMYWJlbCBzdGF0dXM9eyd3YXJuaW5nJ30+XG4gICAgICAgIDxUb29sdGlwIHRpdGxlPXtyZWFkeS5tZXNzYWdlfT57J1dhaXRpbmcnfTwvVG9vbHRpcD5cbiAgICAgIDwvSExTdGF0dXNMYWJlbD5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgaXNSZWFkeSA9IHJlYWR5LnN0YXR1cyA9PT0gJ1RydWUnO1xuICByZXR1cm4gKFxuICAgIDxITFN0YXR1c0xhYmVsIHN0YXR1cz17aXNSZWFkeSA/ICdzdWNjZXNzJyA6ICdlcnJvcid9PlxuICAgICAgPFRvb2x0aXAgdGl0bGU9e3JlYWR5Lm1lc3NhZ2V9Pntpc1JlYWR5ID8gJ1JlYWR5JyA6ICdGYWlsZWQnfTwvVG9vbHRpcD5cbiAgICA8L0hMU3RhdHVzTGFiZWw+XG4gICk7XG59ICIsImltcG9ydCB7XG4gIERhdGVMYWJlbCxcbiAgTGluayxcbiAgU2hvd0hpZGVMYWJlbCxcbiAgVGFibGUgYXMgSFRhYmxlLFxuICBUYWJsZUNvbHVtbixcbiAgVGFibGVQcm9wcyBhcyBIVGFibGVQcm9wcyxcbn0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9jb21wb25lbnRzL2NvbW1vbic7XG5pbXBvcnQgeyBLdWJlT2JqZWN0LCBLdWJlT2JqZWN0Q2xhc3MgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2xpYi9rOHMvY2x1c3Rlcic7XG5pbXBvcnQgeyBLdWJlQ1JEIH0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9saWIvazhzL2NyZCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuLy8gQWRqdXN0IGltcG9ydCBpZiBoZWxwZXJzIHN0cnVjdHVyZSBkaWZmZXJzXG5pbXBvcnQgeyBOYW1lTGluayB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IFN0YXR1c0xhYmVsIGZyb20gJy4vU3RhdHVzTGFiZWwnO1xuXG50eXBlIENvbW1vbkNvbHVtblR5cGUgPVxuICB8ICduYW1lc3BhY2UnXG4gIHwgJ25hbWUnXG4gIHwgJ2xhc3RVcGRhdGVkJ1xuICB8ICdhZ2UnXG4gIHwgJ3N0YXR1cydcbiAgfCAnbWVzc2FnZScgLy8gQWRkZWQgbWVzc2FnZSBmb3IgY29uc2lzdGVuY3lcbiAgfCBzdHJpbmc7IC8vIEFsbG93IG90aGVyIHN0cmluZyBrZXlzIGZvciBjdXN0b20gY29sdW1uc1xuXG5pbnRlcmZhY2UgVGFibGVDb2wge1xuICBoZWFkZXI6IHN0cmluZztcbiAgYWNjZXNzb3JLZXk/OiBzdHJpbmc7XG4gIGFjY2Vzc29yRm4/OiAoaXRlbTogYW55KSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIENlbGw/OiAocHJvcHM6IHsgcm93OiB7IG9yaWdpbmFsOiBhbnkgfTsgY2VsbDogYW55IH0pID0+IFJlYWN0LlJlYWN0Tm9kZTsgLy8gQWRkZWQgY2VsbCBwcm9wIGZvciBmbGV4aWJpbGl0eVxuICBpZD86IHN0cmluZzsgLy8gQWRkZWQgaWQgZm9yIHNvcnRpbmcvZmlsdGVyaW5nXG4gIGdyaWRUZW1wbGF0ZT86IHN0cmluZzsgLy8gQWRkZWQgZm9yIGxheW91dCBjb250cm9sXG4gIGVuYWJsZUNvbHVtbkZpbHRlcj86IGJvb2xlYW47IC8vIEFkZGVkIGZvciBmaWx0ZXJpbmcgY29udHJvbFxuICBtdWlUYWJsZUJvZHlDZWxsUHJvcHM/OiBvYmplY3Q7IC8vIEFkZGVkIGZvciBNVUkgY2VsbCBwcm9wc1xuICByZXNvdXJjZUNsYXNzPzogS3ViZU9iamVjdENsYXNzOyAvLyBBZGRlZCByZXNvdXJjZUNsYXNzIHRvIFRhYmxlQ29sIGRlZmluaXRpb25cbn1cblxuaW50ZXJmYWNlIE5hbWVDb2x1bW4gZXh0ZW5kcyBQYXJ0aWFsPFRhYmxlQ29sPiB7XG4gIGV4dGVuZHM6ICduYW1lJztcbiAgcm91dGVOYW1lPzogc3RyaW5nO1xuICByb3V0ZU5hbWVQcmVmaXg/OiBzdHJpbmc7IC8vIEFkZCBwcmVmaXggZm9yIHVuaXF1ZSByb3V0ZSBnZW5lcmF0aW9uXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVQcm9wcyBleHRlbmRzIE9taXQ8SFRhYmxlUHJvcHM8YW55PiwgJ2NvbHVtbnMnPiB7XG4gIGNvbHVtbnM6IChUYWJsZUNvbCB8IENvbW1vbkNvbHVtblR5cGUgfCBOYW1lQ29sdW1uIHwgVGFibGVDb2x1bW48YW55LCBhbnk+KVtdO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlTGFzdFVwZGF0ZWQoaXRlbTogS3ViZUNSRCkge1xuICAvLyBBZGFwdCBiYXNlZCBvbiB3aGVyZSBMb25naG9ybiBzdG9yZXMgdGhlIGxhc3QgdXBkYXRlIHRpbWVcbiAgY29uc3QgY29uZGl0aW9uID0gaXRlbT8uanNvbkRhdGE/LnN0YXR1cz8uY29uZGl0aW9ucz8uZmluZChjID0+IGMudHlwZSA9PT0gJ1JlYWR5Jyk7XG4gIHJldHVybiBjb25kaXRpb24/Lmxhc3RUcmFuc2l0aW9uVGltZSB8fCBpdGVtPy5qc29uRGF0YT8ubWV0YWRhdGE/LmNyZWF0aW9uVGltZXN0YW1wO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlTmFtZUNvbHVtbihjb2xQcm9wczogUGFydGlhbDxOYW1lQ29sdW1uPiA9IHt9KTogVGFibGVDb2wge1xuICBjb25zdCB7IHJvdXRlTmFtZSwgcm91dGVOYW1lUHJlZml4LCByZXNvdXJjZUNsYXNzLCAuLi5nZW5lcmljUHJvcHMgfSA9IGNvbFByb3BzIGFzIE5hbWVDb2x1bW4gJiB7XG4gICAgcmVzb3VyY2VDbGFzcz86IEt1YmVPYmplY3RDbGFzcztcbiAgfTtcbiAgZGVsZXRlIGdlbmVyaWNQcm9wcy5leHRlbmRzO1xuXG4gIC8vIFVzZSB0aGUgTmFtZUxpbmsgaGVscGVyIGlmIGF2YWlsYWJsZSBhbmQgcm91dGVOYW1lUHJlZml4IGlzIHByb3ZpZGVkXG4gIGlmIChyb3V0ZU5hbWVQcmVmaXggJiYgcmVzb3VyY2VDbGFzcykge1xuICAgIHJldHVybiBOYW1lTGluayhyZXNvdXJjZUNsYXNzLCByb3V0ZU5hbWVQcmVmaXgpO1xuICB9XG5cbiAgLy8gRmFsbGJhY2sgZ2VuZXJpYyBuYW1lIGNvbHVtbiAocG90ZW50aWFsbHkgd2l0aG91dCBsaW5raW5nKVxuICByZXR1cm4ge1xuICAgIGhlYWRlcjogJ05hbWUnLFxuICAgIGFjY2Vzc29yS2V5OiAnbWV0YWRhdGEubmFtZScsXG4gICAgLi4uKHJvdXRlTmFtZVxuICAgICAgPyB7XG4gICAgICAgICAgQ2VsbDogKHsgcm93OiB7IG9yaWdpbmFsOiBpdGVtIH0gfSkgPT4gKFxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgcm91dGVOYW1lPXtyb3V0ZU5hbWV9IC8vIFVzZSBwcm92aWRlZCByb3V0ZU5hbWUgaWYgbm8gcHJlZml4IGxvZ2ljIG5lZWRlZFxuICAgICAgICAgICAgICBwYXJhbXM9e3tcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBpdGVtLm1ldGFkYXRhLm5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAvLyBwbHVyYWxOYW1lIG1pZ2h0IG5vdCBiZSBuZWVkZWQgaWYgcm91dGUgaXMgc2ltcGxlXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpdGVtLm1ldGFkYXRhLm5hbWV9XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgKSxcbiAgICAgICAgfVxuICAgICAgOiB7fSksXG4gICAgLi4uZ2VuZXJpY1Byb3BzLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGFibGUocHJvcHM6IFRhYmxlUHJvcHMpIHtcbiAgY29uc3QgeyBjb2x1bW5zLCBkYXRhLCAuLi5vdGhlclByb3BzIH0gPSBwcm9wcztcblxuICBjb25zdCBwcm9jZXNzZWRDb2x1bW5zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbHVtbnMubWFwKGNvbHVtbiA9PiB7XG4gICAgICBpZiAodHlwZW9mIGNvbHVtbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3dpdGNoIChjb2x1bW4pIHtcbiAgICAgICAgICBjYXNlICduYW1lc3BhY2UnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaGVhZGVyOiAnTmFtZXNwYWNlJyxcbiAgICAgICAgICAgICAgYWNjZXNzb3JLZXk6ICdtZXRhZGF0YS5uYW1lc3BhY2UnLFxuICAgICAgICAgICAgICBDZWxsOiAoeyByb3c6IHsgb3JpZ2luYWw6IGl0ZW0gfSB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPExpbmsgcm91dGVOYW1lPVwibmFtZXNwYWNlXCIgcGFyYW1zPXt7IG5hbWU6IGl0ZW0ubWV0YWRhdGEubmFtZXNwYWNlIH19PlxuICAgICAgICAgICAgICAgICAge2l0ZW0ubWV0YWRhdGEubmFtZXNwYWNlfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAvLyBEZWZhdWx0IG5hbWUgY29sdW1uIHdpdGhvdXQgc3BlY2lmaWMgbGlua2luZ1xuICAgICAgICAgICAgcmV0dXJuIHByZXBhcmVOYW1lQ29sdW1uKCk7XG4gICAgICAgICAgY2FzZSAnbGFzdFVwZGF0ZWQnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaGVhZGVyOiAnTGFzdCBVcGRhdGVkJyxcbiAgICAgICAgICAgICAgYWNjZXNzb3JGbjogaXRlbSA9PiBwcmVwYXJlTGFzdFVwZGF0ZWQoaXRlbSksXG4gICAgICAgICAgICAgIENlbGw6ICh7IGNlbGwgfTogYW55KSA9PiA8RGF0ZUxhYmVsIGZvcm1hdD1cIm1pbmlcIiBkYXRlPXtjZWxsLmdldFZhbHVlKCl9IC8+LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICBjYXNlICdhZ2UnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6ICdhZ2UnLFxuICAgICAgICAgICAgICBoZWFkZXI6ICdBZ2UnLFxuICAgICAgICAgICAgICBncmlkVGVtcGxhdGU6ICdtaW4tY29udGVudCcsXG4gICAgICAgICAgICAgIGFjY2Vzc29yRm46IChpdGVtOiBLdWJlT2JqZWN0KSA9PlxuICAgICAgICAgICAgICAgIC1uZXcgRGF0ZShpdGVtLm1ldGFkYXRhLmNyZWF0aW9uVGltZXN0YW1wKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgIGVuYWJsZUNvbHVtbkZpbHRlcjogZmFsc2UsXG4gICAgICAgICAgICAgIG11aVRhYmxlQm9keUNlbGxQcm9wczoge1xuICAgICAgICAgICAgICAgIGFsaWduOiAncmlnaHQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBDZWxsOiAoeyByb3cgfSkgPT5cbiAgICAgICAgICAgICAgICByb3cub3JpZ2luYWwgJiYgKFxuICAgICAgICAgICAgICAgICAgPERhdGVMYWJlbCBkYXRlPXtyb3cub3JpZ2luYWwubWV0YWRhdGEuY3JlYXRpb25UaW1lc3RhbXB9IGZvcm1hdD1cIm1pbmlcIiAvPlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNhc2UgJ3N0YXR1cyc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBoZWFkZXI6ICdTdGF0dXMnLFxuICAgICAgICAgICAgICAvLyBVc2UgYWNjZXNzb3JGbiBmb3IgY3VzdG9tIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgYWNjZXNzb3JGbjogKGl0ZW06IEt1YmVDUkQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPFN0YXR1c0xhYmVsIGl0ZW09e2l0ZW19IC8+OyAvLyBBc3N1bWluZyBTdGF0dXNMYWJlbCBoYW5kbGVzIExvbmdob3JuIHN0YXR1c1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBBbHRlcm5hdGl2ZWx5LCB1c2UgYWNjZXNzb3JLZXkgaWYgc3RhdHVzIGlzIGEgc2ltcGxlIHN0cmluZ1xuICAgICAgICAgICAgICAvLyBhY2Nlc3NvcktleTogJ3N0YXR1cy5waGFzZScsIC8vIEV4YW1wbGUgZm9yIHNpbXBsZSBzdGF0dXMgZmllbGRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY2FzZSAnbWVzc2FnZSc6IC8vIEFkZGVkIGZvciBjb25zaXN0ZW5jeSB3aXRoIEZsdXggZXhhbXBsZVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaGVhZGVyOiAnTWVzc2FnZScsXG4gICAgICAgICAgICAgIGFjY2Vzc29yRm46IGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIC8vIEFkYXB0IHRoaXMgbG9naWMgdG8gZmluZCB0aGUgcmVsZXZhbnQgbWVzc2FnZSBpbiBMb25naG9ybiBzdGF0dXNcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gaXRlbS5qc29uRGF0YS5zdGF0dXM/LmNvbmRpdGlvbnM/LmZpbmQoXG4gICAgICAgICAgICAgICAgICBjID0+IGMudHlwZSA9PT0gJ1JlYWR5J1xuICAgICAgICAgICAgICAgICk/Lm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxTaG93SGlkZUxhYmVsIGxhYmVsSWQ9e2Ake2l0ZW0/Lm1ldGFkYXRhPy51aWR9LW1lc3NhZ2VgfT5cbiAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UgPz8gJyd9XG4gICAgICAgICAgICAgICAgICA8L1Nob3dIaWRlTGFiZWw+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgLy8gQWRkIG90aGVyIGNvbW1vbiBMb25naG9ybiBjb2x1bW5zIGhlcmUgaWYgbmVlZGVkXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIEhhbmRsZSBjdXN0b20gc3RyaW5nIGNvbHVtbnMgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oYFVuaGFuZGxlZCBjb21tb24gY29sdW1uIHN0cmluZzogJHtjb2x1bW59YCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBoZWFkZXI6IGNvbHVtbiwgLy8gVXNlIHRoZSBzdHJpbmcgYXMgaGVhZGVyIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgYWNjZXNzb3JLZXk6IGNvbHVtbiwgLy8gQXNzdW1lIGl0J3MgYSBkaXJlY3Qga2V5IHBhdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZW5kIGlmIHR5cGVvZiBjb2x1bW4gPT09ICdzdHJpbmcnXG5cbiAgICAgIC8vIEhhbmRsZSBOYW1lQ29sdW1uIGNvbmZpZ3VyYXRpb24gd2l0aCByb3V0ZU5hbWVQcmVmaXhcbiAgICAgIGlmICgoY29sdW1uIGFzIE5hbWVDb2x1bW4pLmV4dGVuZHMgPT09ICduYW1lJyAmJiAoY29sdW1uIGFzIE5hbWVDb2x1bW4pLnJvdXRlTmFtZVByZWZpeCkge1xuICAgICAgICAvLyBQYXNzIHRoZSByZXNvdXJjZUNsYXNzIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBjb2x1bW4gZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBuYW1lQ29sUHJvcHMgPSBjb2x1bW4gYXMgTmFtZUNvbHVtbiAmIHsgcmVzb3VyY2VDbGFzcz86IEt1YmVPYmplY3RDbGFzcyB9O1xuICAgICAgICByZXR1cm4gcHJlcGFyZU5hbWVDb2x1bW4obmFtZUNvbFByb3BzKTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIGdlbmVyaWMgTmFtZUNvbHVtbiB3aXRob3V0IHByZWZpeCAob3IgZmFsbGJhY2spXG4gICAgICBpZiAoKGNvbHVtbiBhcyBOYW1lQ29sdW1uKS5leHRlbmRzID09PSAnbmFtZScpIHtcbiAgICAgICAgcmV0dXJuIHByZXBhcmVOYW1lQ29sdW1uKGNvbHVtbiBhcyBOYW1lQ29sdW1uKTtcbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aHJvdWdoIG90aGVyIGNvbHVtbiBjb25maWd1cmF0aW9ucyBkaXJlY3RseVxuICAgICAgcmV0dXJuIGNvbHVtbiBhcyBUYWJsZUNvbDtcbiAgICB9KTtcbiAgfSwgW2NvbHVtbnNdKTtcblxuICByZXR1cm4gKFxuICAgIDxIVGFibGVcbiAgICAgIGRhdGE9e2RhdGF9XG4gICAgICBsb2FkaW5nPXtkYXRhID09PSBudWxsfVxuICAgICAgbXVpVGFibGVCb2R5Um93UHJvcHM9eyh7IHJvdyB9KSA9PiAoe1xuICAgICAgICBrZXk6IHJvdy5vcmlnaW5hbD8ubWV0YWRhdGE/LnVpZCA/PyBKU09OLnN0cmluZ2lmeShyb3cub3JpZ2luYWwpLFxuICAgICAgfSl9XG4gICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgIGNvbHVtbnM9e3Byb2Nlc3NlZENvbHVtbnMgYXMgVGFibGVDb2xbXX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUYWJsZTsgIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNlY3Rpb25Cb3gsIFNlY3Rpb25GaWx0ZXJIZWFkZXIgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2NvbXBvbmVudHMvY29tbW9uJztcbmltcG9ydCB7IHVzZUZpbHRlckZ1bmMgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL1V0aWxzJztcbmltcG9ydCB7IHZvbHVtZUNsYXNzIH0gZnJvbSAnLi9jcmQnO1xuaW1wb3J0IHsgTmFtZUxpbmsgfSBmcm9tICcuLi9oZWxwZXJzJzsgLy8gQXNzdW1pbmcgaGVscGVycyBleGlzdCBmcm9tIEZsdXggZXhhbXBsZVxuaW1wb3J0IFRhYmxlIGZyb20gJy4uL2NvbW1vbi9UYWJsZSc7IC8vIEFzc3VtaW5nIGNvbW1vbiBUYWJsZSBleGlzdHNcblxuZXhwb3J0IGZ1bmN0aW9uIFZvbHVtZXMoKSB7XG4gIGNvbnN0IGZpbHRlckZ1bmN0aW9uID0gdXNlRmlsdGVyRnVuYygpO1xuICBjb25zdCBbdm9sdW1lcywgZXJyb3JdID0gdm9sdW1lQ2xhc3MoKS51c2VMaXN0KCk7XG5cbiAgLy8gQmFzaWMgZXJyb3IgaGFuZGxpbmcgKHNpbWlsYXIgdG8gRmx1eCdzIE5vdFN1cHBvcnRlZClcbiAgaWYgKGVycm9yPy5zdGF0dXMgPT09IDQwNCkge1xuICAgIC8vIFlvdSBtaWdodCB3YW50IGEgc3BlY2lmaWMgTG9uZ2hvcm5Ob3RJbnN0YWxsZWQgY29tcG9uZW50IGxhdGVyXG4gICAgcmV0dXJuIDxTZWN0aW9uQm94IHRpdGxlPVwiVm9sdW1lc1wiPkxvbmdob3JuIFZvbHVtZXMgQ1JEIG5vdCBmb3VuZC48L1NlY3Rpb25Cb3g+O1xuICB9XG4gIGlmIChlcnJvcikge1xuICAgICByZXR1cm4gPFNlY3Rpb25Cb3ggdGl0bGU9XCJWb2x1bWVzXCI+RXJyb3IgbG9hZGluZyBWb2x1bWVzOiB7ZXJyb3IubWVzc2FnZX08L1NlY3Rpb25Cb3g+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8U2VjdGlvbkJveCB0aXRsZT17PFNlY3Rpb25GaWx0ZXJIZWFkZXIgdGl0bGU9XCJWb2x1bWVzXCIgLz59PlxuICAgICAgPFRhYmxlXG4gICAgICAgIGRhdGE9e3ZvbHVtZXN9XG4gICAgICAgIGNvbHVtbnM9e1tcbiAgICAgICAgICBOYW1lTGluayh2b2x1bWVDbGFzcygpLCAnbG9uZ2hvcm4vdm9sdW1lcycpLCAvLyBVc2UgYSB1bmlxdWUgcm91dGUgbmFtZSBwcmVmaXhcbiAgICAgICAgICAnbmFtZXNwYWNlJywgLy8gQXNzdW1pbmcgdm9sdW1lcyBhcmUgbmFtZXNwYWNlZFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhlYWRlcjogJ1N0YXRlJyxcbiAgICAgICAgICAgIGFjY2Vzc29yS2V5OiAnc3RhdHVzLnN0YXRlJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhlYWRlcjogJ1NpemUnLFxuICAgICAgICAgICAgYWNjZXNzb3JLZXk6ICdzcGVjLnNpemUnLCAvLyBBZGp1c3QgYWNjZXNzb3IgYmFzZWQgb24gYWN0dWFsIENSRCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAvLyBBZGQgZm9ybWF0dGluZyBpZiBuZWVkZWQgKGUuZy4sIGJ5dGVzIHRvIEdpQilcbiAgICAgICAgICB9LFxuICAgICAgICAgICB7XG4gICAgICAgICAgICBoZWFkZXI6ICdOb2RlJyxcbiAgICAgICAgICAgIGFjY2Vzc29yS2V5OiAnc3RhdHVzLmN1cnJlbnROb2RlSUQnLCAvLyBBZGp1c3QgYWNjZXNzb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgICB7XG4gICAgICAgICAgICBoZWFkZXI6ICdBdHRhY2hlZCcsXG4gICAgICAgICAgICAvL2FjY2Vzc29yS2V5OiAnc3RhdHVzLmlzQXR0YWNoZWQnLCAvLyBDaGVjayBhY3R1YWwgZmllbGRcbiAgICAgICAgICAgICBhY2Nlc3NvckZuOiBpdGVtID0+IGl0ZW0uc3RhdHVzPy5zdGF0ZSA9PT0gJ2F0dGFjaGVkJyA/ICdZZXMnIDogJ05vJywgLy8gRXhhbXBsZSBkZXJpdmVkIHN0YXRlXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBBZGQgbW9yZSByZWxldmFudCBjb2x1bW5zOiBSb2J1c3RuZXNzLCBSZXBsaWNhcywgZXRjLlxuICAgICAgICAgICdhZ2UnLFxuICAgICAgICBdfVxuICAgICAgICBmaWx0ZXJGdW5jdGlvbj17ZmlsdGVyRnVuY3Rpb259XG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IHNvcnRpbmcgaWYgZGVzaXJlZFxuICAgICAgLz5cbiAgICA8L1NlY3Rpb25Cb3g+XG4gICk7XG59ICIsImltcG9ydCB7XG4gIENvbmRpdGlvbnNUYWJsZSxcbiAgTWFpbkluZm9TZWN0aW9uLFxuICBOYW1lVmFsdWVUYWJsZSxcbiAgU2VjdGlvbkJveCxcbn0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9jb21wb25lbnRzL2NvbW1vbic7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB2b2x1bWVDbGFzcyB9IGZyb20gJy4vY3JkJzsgLy8gSW1wb3J0IHRoZSBDUkQgY2xhc3Ncbi8vIGltcG9ydCB7IE9iamVjdEV2ZW50cyB9IGZyb20gJy4uL2hlbHBlcnMnOyAvLyBBc3N1bWluZyBPYmplY3RFdmVudHMgaGVscGVyIGV4aXN0c1xuLy8gSW1wb3J0IGFjdGlvbnMgaWYvd2hlbiBMb25naG9ybiBzdXBwb3J0cyBzaW1pbGFyIGFjdGlvbnMgKFN1c3BlbmQsIFJlc3VtZSwgU3luYz8pXG5cbmV4cG9ydCBmdW5jdGlvbiBWb2x1bWVEZXRhaWwoKSB7XG4gIC8vIFVzZSBgbmFtZWAgYW5kIGBuYW1lc3BhY2VgIGZyb20gVVJMIHBhcmFtc1xuICBjb25zdCB7IG5hbWVzcGFjZSwgbmFtZSB9ID0gdXNlUGFyYW1zPHsgbmFtZTogc3RyaW5nOyBuYW1lc3BhY2U6IHN0cmluZyB9PigpO1xuICBjb25zdCBbdm9sdW1lLCBlcnJvcl0gPSB2b2x1bWVDbGFzcygpLnVzZUdldChuYW1lLCBuYW1lc3BhY2UpO1xuXG4gIC8vIEJhc2ljIGVycm9yIGhhbmRsaW5nXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiA8U2VjdGlvbkJveCB0aXRsZT17YFZvbHVtZSAke25hbWV9YH0+RXJyb3IgbG9hZGluZyBWb2x1bWU6IHtlcnJvci5tZXNzYWdlfTwvU2VjdGlvbkJveD47XG4gIH1cblxuICAvLyBQcmVwYXJlIGRhdGEgZm9yIHRoZSBNYWluSW5mb1NlY3Rpb25cbiAgZnVuY3Rpb24gcHJlcGFyZUV4dHJhSW5mbyhpdGVtOiBhbnkpIHtcbiAgICBpZiAoIWl0ZW0pIHJldHVybiBbXTtcbiAgICBjb25zdCBqc29uRGF0YSA9IGl0ZW0uanNvbkRhdGE7IC8vIEZvciBlYXNpZXIgYWNjZXNzXG5cbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnU3RhdGUnLFxuICAgICAgICB2YWx1ZToganNvbkRhdGEuc3RhdHVzPy5zdGF0ZSB8fCAnLScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU2l6ZScsXG4gICAgICAgIC8vIEFkZCBmb3JtYXR0aW5nIChlLmcuLCBieXRlcyB0byBHaUIpIGFzIG5lZWRlZFxuICAgICAgICB2YWx1ZToganNvbkRhdGEuc3BlYz8uc2l6ZSB8fCAnLScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTm9kZScsXG4gICAgICAgIHZhbHVlOiBqc29uRGF0YS5zdGF0dXM/LmN1cnJlbnROb2RlSUQgfHwgJy0nLCAvLyBNaWdodCBsaW5rIHRvIE5vZGUgZGV0YWlsIGxhdGVyXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnQXR0YWNoZWQnLFxuICAgICAgICB2YWx1ZToganNvbkRhdGEuc3RhdHVzPy5zdGF0ZSA9PT0gJ2F0dGFjaGVkJyA/ICdZZXMnIDogJ05vJyxcbiAgICAgIH0sXG4gICAgICAge1xuICAgICAgICBuYW1lOiAnUm9idXN0bmVzcycsXG4gICAgICAgIHZhbHVlOiBqc29uRGF0YS5zdGF0dXM/LnJvYnVzdG5lc3MgfHwgJy0nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1JlcGxpY2FzJyxcbiAgICAgICAgdmFsdWU6IGpzb25EYXRhLnNwZWM/Lm51bWJlck9mUmVwbGljYXMgfHwgJy0nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0Zyb250ZW5kJyxcbiAgICAgICAgdmFsdWU6IGpzb25EYXRhLnNwZWM/LmZyb250ZW5kIHx8ICctJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdTdGFsZSBSZXBsaWNhIFRpbWVvdXQnLFxuICAgICAgICB2YWx1ZTogYCR7anNvbkRhdGEuc3BlYz8uc3RhbGVSZXBsaWNhVGltZW91dCB8fCAnLSd9IG1pbmAsXG4gICAgICB9LFxuICAgICAgLy8gQWRkIG1vcmUgcmVsZXZhbnQgZmllbGRzIGZyb20gc3BlYyBhbmQgc3RhdHVzXG4gICAgXTtcbiAgfVxuXG4gIC8vIERlZmluZSBhY3Rpb25zIChwbGFjZWhvbGRlciBmb3Igbm93LCBhZGFwdCBpZiBMb25naG9ybiBzdXBwb3J0cyBhY3Rpb25zKVxuICBmdW5jdGlvbiBwcmVwYXJlQWN0aW9ucygpIHtcbiAgICBjb25zdCBhY3Rpb25zOiBSZWFjdC5SZWFjdE5vZGVbXSA9IFtdO1xuICAgIC8vIEV4YW1wbGU6IEFkZCBhY3Rpb25zIGlmIGFwcGxpY2FibGVcbiAgICAvLyBhY3Rpb25zLnB1c2goPFNvbWVMb25naG9ybkFjdGlvbiByZXNvdXJjZT17dm9sdW1lfSAvPik7XG4gICAgcmV0dXJuIGFjdGlvbnM7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TWFpbkluZm9TZWN0aW9uXG4gICAgICAgIHJlc291cmNlPXt2b2x1bWV9IC8vIFBhc3MgdGhlIEt1YmVPYmplY3RcbiAgICAgICAgZXh0cmFJbmZvPXtwcmVwYXJlRXh0cmFJbmZvKHZvbHVtZSl9IC8vIFBhc3MgdGhlIHByZXBhcmVkIGluZm9cbiAgICAgICAgYWN0aW9ucz17cHJlcGFyZUFjdGlvbnMoKX0gLy8gUGFzcyBwcmVwYXJlZCBhY3Rpb25zXG4gICAgICAvPlxuICAgICAgey8qIFJlbmRlciBDb25kaXRpb25zVGFibGUgaWYgY29uZGl0aW9ucyBleGlzdCAqL31cbiAgICAgIHt2b2x1bWU/Lmpzb25EYXRhPy5zdGF0dXM/LmNvbmRpdGlvbnMgJiYgKFxuICAgICAgICA8U2VjdGlvbkJveCB0aXRsZT1cIkNvbmRpdGlvbnNcIj5cbiAgICAgICAgICA8Q29uZGl0aW9uc1RhYmxlIHJlc291cmNlPXt2b2x1bWUuanNvbkRhdGF9IHNob3dMYXN0VXBkYXRlPXt0cnVlfSAvPlxuICAgICAgICA8L1NlY3Rpb25Cb3g+XG4gICAgICApfVxuICAgICAgey8qIFJlbmRlciBSZXBsaWNhcyB0YWJsZSAqL31cbiAgICAgIHt2b2x1bWU/Lmpzb25EYXRhPy5zdGF0dXM/LnJlcGxpY2FzICYmIChcbiAgICAgICAgIDxTZWN0aW9uQm94IHRpdGxlPVwiUmVwbGljYXNcIj5cbiAgICAgICAgICAgICB7LyogQ3JlYXRlIGEgZGVkaWNhdGVkIFJlcGxpY2FzVGFibGUgY29tcG9uZW50IGxhdGVyICovfVxuICAgICAgICAgICAgIDxOYW1lVmFsdWVUYWJsZSBcbiAgICAgICAgICAgICAgICByb3dzPXt2b2x1bWUuanNvbkRhdGEuc3RhdHVzLnJlcGxpY2FzLm1hcCgocmVwOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYE1vZGU6ICR7cmVwLm1vZGV9LCBIZWFsdGh5OiAke3JlcC5oZWFsdGh5QXQgPyAnWWVzJyA6ICdObyd9YFxuICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAvPlxuICAgICAgICAgPC9TZWN0aW9uQm94PlxuICAgICAgKX1cblxuICAgICAgIHsvKiBSZW5kZXIgS3ViZXJuZXRlcyBTdGF0dXMgKi99XG4gICAgICAge3ZvbHVtZT8uanNvbkRhdGE/LnN0YXR1cz8ua3ViZXJuZXRlc1N0YXR1cyAmJiAoXG4gICAgICAgICA8U2VjdGlvbkJveCB0aXRsZT1cIkt1YmVybmV0ZXMgU3RhdHVzXCI+XG4gICAgICAgICAgIDxOYW1lVmFsdWVUYWJsZSBcbiAgICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1BWIE5hbWUnLCB2YWx1ZTogdm9sdW1lLmpzb25EYXRhLnN0YXR1cy5rdWJlcm5ldGVzU3RhdHVzLnB2TmFtZSB8fCAnLScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdQViBTdGF0dXMnLCB2YWx1ZTogdm9sdW1lLmpzb25EYXRhLnN0YXR1cy5rdWJlcm5ldGVzU3RhdHVzLnB2U3RhdHVzIHx8ICctJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1BWQyBOYW1lJywgdmFsdWU6IHZvbHVtZS5qc29uRGF0YS5zdGF0dXMua3ViZXJuZXRlc1N0YXR1cy5wdmNOYW1lIHx8ICctJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ05hbWVzcGFjZScsIHZhbHVlOiB2b2x1bWUuanNvbkRhdGEuc3RhdHVzLmt1YmVybmV0ZXNTdGF0dXMubmFtZXNwYWNlIHx8ICctJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0xhc3QgUG9kIFJlZiBBdCcsIHZhbHVlOiB2b2x1bWUuanNvbkRhdGEuc3RhdHVzLmt1YmVybmV0ZXNTdGF0dXMubGFzdFBvZFJlZkF0IHx8ICctJyB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAvPlxuICAgICAgICAgPC9TZWN0aW9uQm94PlxuICAgICAgICl9XG5cbiAgICAgIHsvKiBBZGQgT2JqZWN0RXZlbnRzIGNvbXBvbmVudCBpZiBoZWxwZXIgaXMgYXZhaWxhYmxlICovfVxuICAgICAgey8qIHt2b2x1bWUgJiYgKFxuICAgICAgICA8T2JqZWN0RXZlbnRzIFxuICAgICAgICAgICAgbmFtZXNwYWNlPXtuYW1lc3BhY2V9IFxuICAgICAgICAgICAgbmFtZT17bmFtZX0gXG4gICAgICAgICAgICByZXNvdXJjZUNsYXNzPXt2b2x1bWVDbGFzcygpfSBcbiAgICAgICAgLz5cbiAgICAgICl9ICovfVxuICAgICAgey8qIEFkZCBtb3JlIHNlY3Rpb25zIGFzIG5lZWRlZCwgZS5nLiwgU25hcHNob3RzLCBCYWNrdXBzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdm9sdW1lICovfVxuICAgIDwvPlxuICApO1xufSAiLCJpbXBvcnQge1xuICByZWdpc3RlclJvdXRlLFxuICByZWdpc3RlclNpZGViYXJFbnRyeSxcbn0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYic7XG5cbi8vIEltcG9ydCBMb25naG9ybiBsaXN0IGFuZCBkZXRhaWwgdmlldyBjb21wb25lbnRzXG5pbXBvcnQgeyBWb2x1bWVzIH0gZnJvbSAnLi9sb25naG9ybi9Wb2x1bWVMaXN0JztcbmltcG9ydCB7IFZvbHVtZURldGFpbCB9IGZyb20gJy4vbG9uZ2hvcm4vVm9sdW1lRGV0YWlsJztcblxuLy8gUmVnaXN0ZXIgYSB0b3AtbGV2ZWwgc2lkZWJhciBlbnRyeSBmb3IgTG9uZ2hvcm5cbnJlZ2lzdGVyU2lkZWJhckVudHJ5KHtcbiAgcGFyZW50OiBudWxsLCAvLyBudWxsIG1ha2VzIGl0IGEgdG9wLWxldmVsIGVudHJ5XG4gIG5hbWU6ICdsb25naG9ybicsXG4gIGxhYmVsOiAnTG9uZ2hvcm4nLFxuICB1cmw6ICcvbG9uZ2hvcm4nLCAvLyBEZWZhdWx0IHZpZXcsIGUuZy4sIFZvbHVtZXMgbGlzdFxuICBpY29uOiAnbWRpOmNvdycsIC8vIEV4YW1wbGUgaWNvbiwgY2hvb3NlIGEgc3VpdGFibGUgb25lXG59KTtcblxuLy8gUmVnaXN0ZXIgYSBzaWRlYmFyIGVudHJ5IHNwZWNpZmljYWxseSBmb3IgVm9sdW1lcyB1bmRlciBMb25naG9yblxucmVnaXN0ZXJTaWRlYmFyRW50cnkoe1xuICBwYXJlbnQ6ICdsb25naG9ybicsXG4gIG5hbWU6ICd2b2x1bWVzJyxcbiAgbGFiZWw6ICdWb2x1bWVzJyxcbiAgdXJsOiAnL2xvbmdob3JuL3ZvbHVtZXMnLFxuICAvLyBpY29uOiAnbWRpOmRhdGFiYXNlJywgLy8gT3B0aW9uYWwgaWNvbiBmb3Igc3ViLWVudHJ5XG59KTtcblxuLy8gUm91dGUgZm9yIHRoZSBtYWluIExvbmdob3JuIFZvbHVtZXMgbGlzdCB2aWV3XG5yZWdpc3RlclJvdXRlKHtcbiAgcGF0aDogJy9sb25naG9ybi92b2x1bWVzJyxcbiAgbmFtZTogJ2xvbmdob3JuL3ZvbHVtZXMnLFxuICBwYXJlbnQ6ICdsb25naG9ybicsIC8vIEFzc29jaWF0ZSB3aXRoIHRoZSB0b3AtbGV2ZWwgTG9uZ2hvcm4gZW50cnlcbiAgc2lkZWJhcjogJ3ZvbHVtZXMnLCAvLyBBc3NvY2lhdGUgd2l0aCB0aGUgVm9sdW1lcyBzaWRlYmFyIGVudHJ5XG4gIGNvbXBvbmVudDogVm9sdW1lcywgLy8gVXNlIHRoZSBWb2x1bWVzIGNvbXBvbmVudFxuICBleGFjdDogdHJ1ZSxcbn0pO1xuXG4vLyBSb3V0ZSBmb3IgdGhlIExvbmdob3JuIFZvbHVtZSBkZXRhaWwgdmlld1xucmVnaXN0ZXJSb3V0ZSh7XG4gIC8vIDpuYW1lc3BhY2UgYW5kIDpuYW1lIGFyZSBwYXJhbWV0ZXJzIGNhcHR1cmVkIGZyb20gdGhlIFVSTFxuICBwYXRoOiAnL2xvbmdob3JuL3ZvbHVtZXMvOm5hbWVzcGFjZS86bmFtZScsXG4gIG5hbWU6ICdsb25naG9ybi92b2x1bWUvZGV0YWlsJywgLy8gVW5pcXVlIG5hbWUgZm9yIHRoZSBkZXRhaWwgcm91dGVcbiAgcGFyZW50OiAnbG9uZ2hvcm4nLCAvLyBBc3NvY2lhdGUgd2l0aCB0aGUgdG9wLWxldmVsIExvbmdob3JuIGVudHJ5XG4gIHNpZGViYXI6ICd2b2x1bWVzJywgLy8gS2VlcCB0aGUgVm9sdW1lcyBzaWRlYmFyIGl0ZW0gc2VsZWN0ZWRcbiAgY29tcG9uZW50OiBWb2x1bWVEZXRhaWwsIC8vIFVzZSB0aGUgVm9sdW1lRGV0YWlsIGNvbXBvbmVudFxuICBleGFjdDogdHJ1ZSxcbn0pO1xuXG4vLyBQbGFjZWhvbGRlciBmb3Igb3RoZXIgTG9uZ2hvcm4gc2VjdGlvbnMgKE5vZGVzLCBCYWNrdXBzLCBTZXR0aW5ncywgZXRjLilcbi8vIFJlZ2lzdGVyIHNpZGViYXIgZW50cmllcyBhbmQgcm91dGVzIGZvciB0aGVtIHNpbWlsYXJseS4uLlxuXG4vKiBFeGFtcGxlOiBOb2RlcyBzZWN0aW9uXG5yZWdpc3RlclNpZGViYXJFbnRyeSh7XG4gIHBhcmVudDogJ2xvbmdob3JuJyxcbiAgbmFtZTogJ25vZGVzJyxcbiAgbGFiZWw6ICdOb2RlcycsXG4gIHVybDogJy9sb25naG9ybi9ub2RlcycsXG59KTtcblxucmVnaXN0ZXJSb3V0ZSh7XG4gIHBhdGg6ICcvbG9uZ2hvcm4vbm9kZXMnLFxuICBuYW1lOiAnbG9uZ2hvcm4vbm9kZXMnLFxuICBwYXJlbnQ6ICdsb25naG9ybicsXG4gIHNpZGViYXI6ICdub2RlcycsXG4gIGNvbXBvbmVudDogKCkgPT4gPGRpdj5Mb25naG9ybiBOb2RlcyBMaXN0IFBsYWNlaG9sZGVyPC9kaXY+LCAvLyBSZXBsYWNlIHdpdGggYWN0dWFsIE5vZGVzTGlzdCBjb21wb25lbnRcbiAgZXhhY3Q6IHRydWUsXG59KTtcblxucmVnaXN0ZXJSb3V0ZSh7XG4gIHBhdGg6ICcvbG9uZ2hvcm4vbm9kZXMvOm5hbWVzcGFjZS86bmFtZScsIC8vIEFzc3VtaW5nIG5vZGVzIGFyZSBuYW1lc3BhY2VkIGluIExvbmdob3JuXG4gIG5hbWU6ICdsb25naG9ybi9ub2RlL2RldGFpbCcsXG4gIHBhcmVudDogJ2xvbmdob3JuJyxcbiAgc2lkZWJhcjogJ25vZGVzJyxcbiAgY29tcG9uZW50OiAoKSA9PiA8ZGl2Pkxvbmdob3JuIE5vZGUgRGV0YWlsIFBsYWNlaG9sZGVyPC9kaXY+LCAvLyBSZXBsYWNlIHdpdGggYWN0dWFsIE5vZGVEZXRhaWwgY29tcG9uZW50XG4gIGV4YWN0OiB0cnVlLFxufSk7XG4qL1xuXG4vLyBSZW1vdmUgb3Iga2VlcCB0aGUgaW5pdGlhbCBkZWZhdWx0IGV4YW1wbGUgYWN0aW9uXG4vLyByZWdpc3RlckFwcEJhckFjdGlvbig8c3Bhbj5IZWxsbzwvc3Bhbj4pO1xuIl0sIm5hbWVzIjpbImxvbmdob3JuR3JvdXAiLCJsb25naG9yblZlcnNpb24iLCJ2b2x1bWVDbGFzcyIsIm1ha2VDdXN0b21SZXNvdXJjZUNsYXNzIiwiY29uc29uYW50cyIsIlBsdXJhbE5hbWUiLCJraW5kIiwia25vd25QbHVyYWxzIiwic2luZ3VsYXIiLCJsYXN0Q2hhciIsImJlZm9yZUxhc3RDaGFyIiwiaXNDb25zb25hbnQiLCJpZXNQbHVyYWwiLCJzUGx1cmFsIiwiZXNQbHVyYWwiLCJ2ZXNQbHVyYWwiLCJydW5lIiwiTmFtZUxpbmsiLCJyZXNvdXJjZUNsYXNzIiwicm91dGVOYW1lUHJlZml4IiwiY2VsbCIsInJvdyIsImpzeCIsIkxpbmsiLCJTdGF0dXNMYWJlbCIsInByb3BzIiwiaXRlbSIsIl9hIiwibG9uZ2hvcm5TdGF0ZSIsInN0YXR1c1R5cGUiLCJzdGF0dXNUZXh0IiwiSExTdGF0dXNMYWJlbCIsInJlYWR5IiwiX2IiLCJfZCIsIl9jIiwiVG9vbHRpcCIsImlzUmVhZHkiLCJwcmVwYXJlTGFzdFVwZGF0ZWQiLCJjb25kaXRpb24iLCJjIiwiX2UiLCJwcmVwYXJlTmFtZUNvbHVtbiIsImNvbFByb3BzIiwicm91dGVOYW1lIiwiZ2VuZXJpY1Byb3BzIiwiVGFibGUiLCJjb2x1bW5zIiwiZGF0YSIsIm90aGVyUHJvcHMiLCJwcm9jZXNzZWRDb2x1bW5zIiwiUmVhY3QiLCJjb2x1bW4iLCJEYXRlTGFiZWwiLCJtZXNzYWdlIiwiU2hvd0hpZGVMYWJlbCIsIkhUYWJsZSIsIlZvbHVtZXMiLCJmaWx0ZXJGdW5jdGlvbiIsInVzZUZpbHRlckZ1bmMiLCJ2b2x1bWVzIiwiZXJyb3IiLCJTZWN0aW9uQm94IiwianN4cyIsIlNlY3Rpb25GaWx0ZXJIZWFkZXIiLCJWb2x1bWVEZXRhaWwiLCJuYW1lc3BhY2UiLCJuYW1lIiwidXNlUGFyYW1zIiwidm9sdW1lIiwicHJlcGFyZUV4dHJhSW5mbyIsImpzb25EYXRhIiwiX2YiLCJfZyIsIl9oIiwicHJlcGFyZUFjdGlvbnMiLCJGcmFnbWVudCIsIk1haW5JbmZvU2VjdGlvbiIsIkNvbmRpdGlvbnNUYWJsZSIsIk5hbWVWYWx1ZVRhYmxlIiwicmVwIiwicmVnaXN0ZXJTaWRlYmFyRW50cnkiLCJyZWdpc3RlclJvdXRlIl0sIm1hcHBpbmdzIjoieTdCQUVNQSxFQUFnQixjQUVoQkMsRUFBa0IsVUFFakIsU0FBU0MsR0FBYyxDQUM1QixPQUFPQywwQkFBd0IsQ0FDN0IsUUFBUyxDQUFDLENBQUUsTUFBT0gsRUFBZSxRQUFTQyxFQUFpQixFQUM1RCxhQUFjLEdBQ2QsYUFBYyxTQUNkLFdBQVksU0FBQSxDQUNiLENBQ0gsQ0NMQSxNQUFNRyxFQUFhLHdCQUdaLFNBQVNDLEVBQVdDLEVBQXNCLENBRy9DLE1BQU1DLEVBQTBDLENBQzlDLE9BQVEsVUFDUixLQUFNLFFBQ04sT0FBUSxVQUNS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
