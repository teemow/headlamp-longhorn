(function(u,t){typeof exports=="object"&&typeof module<"u"?t(require("@kinvolk/headlamp-plugin/lib"),require("react/jsx-runtime"),require("@kinvolk/headlamp-plugin/lib/components/common"),require("@kinvolk/headlamp-plugin/lib/Utils"),require("@kinvolk/headlamp-plugin/lib/lib/k8s/crd"),require("react"),require("@mui/material"),require("react-router-dom")):typeof define=="function"&&define.amd?define(["@kinvolk/headlamp-plugin/lib","react/jsx-runtime","@kinvolk/headlamp-plugin/lib/components/common","@kinvolk/headlamp-plugin/lib/Utils","@kinvolk/headlamp-plugin/lib/lib/k8s/crd","react","@mui/material","react-router-dom"],t):(u=typeof globalThis<"u"?globalThis:u||self,t(u.pluginLib,u.pluginLib.ReactJSX,u.pluginLib.CommonComponents,u.pluginLib.Utils,u.pluginLib.Crd,u.pluginLib.React,u.pluginLib.MuiMaterial,u.pluginLib.ReactRouter))})(this,function(u,t,o,w,B,F,v,I){"use strict";const q=(a=>a&&typeof a=="object"&&"default"in a?a:{default:a})(F),M="longhorn.io",A="v1beta2";function k(){return B.makeCustomResourceClass({apiInfo:[{group:M,version:A}],isNamespaced:!0,singularName:"Volume",pluralName:"volumes"})}const K="bcdfghjklmnpqrstvwxyz";function U(a){const n={Volume:"volumes",Node:"nodes",Engine:"engines",Replica:"replicas",BackupTarget:"backuptargets",Backup:"backups",Setting:"settings",RecurringJob:"recurringjobs",Snapshot:"snapshots",InstanceManager:"instancemanagers",ShareManager:"sharemanagers",EngineImage:"engineimages",BackingImage:"backingimages",BackingImageManager:"backingimagemanagers",BackingImageDataSource:"backingimagedatasources",VolumeAttachment:"volumeattachments",Orphan:"orphans",SystemBackup:"systembackups",SystemRestore:"systemrestores",VolumeRestore:"volumerestores",VolumeRebuilding:"volumerebuildings"};if(n[a])return n[a];const e=a.toLowerCase(),i=e.substring(e.length-1,e.length),l=e.substring(e.length-2,e.length-1);switch(i){case"s":case"x":case"z":return e+"es";case"y":return $(l)?z(e):b(e);case"h":return l==="c"||l==="s"?E(e):b(e);case"e":return l==="f"?y(e.substring(0,e.length-1)):b(e);case"f":return y(e);default:return b(e)}}function E(a){return a+"es"}function z(a){return a.substring(0,a.length-1)+"ies"}function b(a){return a+"s"}function y(a){return a.substring(0,a.length-1)+"ves"}function $(a){return K.indexOf(a)>=0}function L(a,n){return U(a.kind),{header:"Name",accessorKey:"metadata.name",Cell:({cell:e,row:i})=>t.jsx(o.Link,{routeName:`${n}`,params:{name:i.original.metadata.name,namespace:i.original.metadata.namespace},children:t.jsx("span",{children:e.getValue()})})}}function O(a){var r,s,d,g;const{item:n}=a;if(!((r=n==null?void 0:n.jsonData)!=null&&r.status))return t.jsx("span",{children:"-"});const e=n.jsonData.status.state;if(e){let c="",m=e;switch(e.toLowerCase()){case"attached":case"healthy":c="success";break;case"detached":case"degraded":case"creating":case"rebuilding":c="warning";break;case"faulted":case"error":c="error";break;default:c="warning";break}return t.jsx(o.StatusLabel,{status:c,children:m})}const i=(s=n.jsonData.status.conditions)==null?void 0:s.find(c=>c.type==="Ready");if(!i)return t.jsx("span",{children:"-"});if((g=(d=n==null?void 0:n.jsonData)==null?void 0:d.spec)!=null&&g.suspend)return t.jsx(o.StatusLabel,{status:"warning",children:"Suspended"});if(i.status==="Unknown")return t.jsx(o.StatusLabel,{status:"warning",children:"Reconcilingâ€¦"});if(i.reason==="DependencyNotReady")return t.jsx(o.StatusLabel,{status:"warning",children:t.jsx(v.Tooltip,{title:i.message,children:"Waiting"})});const l=i.status==="True";return t.jsx(o.StatusLabel,{status:l?"success":"error",children:t.jsx(v.Tooltip,{title:i.message,children:l?"Ready":"Failed"})})}function _(a){var e,i,l,r,s;const n=(l=(i=(e=a==null?void 0:a.jsonData)==null?void 0:e.status)==null?void 0:i.conditions)==null?void 0:l.find(d=>d.type==="Ready");return(n==null?void 0:n.lastTransitionTime)||((s=(r=a==null?void 0:a.jsonData)==null?void 0:r.metadata)==null?void 0:s.creationTimestamp)}function S(a={}){const{routeName:n,routeNamePrefix:e,resourceClass:i,...l}=a;return delete l.extends,e&&i?L(i,e):{header:"Name",accessorKey:"metadata.name",...n?{Cell:({row:{original:r}})=>t.jsx(o.Link,{routeName:n,params:{name:r.metadata.name,namespace:r.metadata.namespace},children:r.metadata.name})}:{},...l}}function H(a){const{columns:n,data:e,...i}=a,l=q.default.useMemo(()=>n.map(r=>{if(typeof r=="string")switch(r){case"namespace":return{header:"Namespace",accessorKey:"metadata.namespace",Cell:({row:{original:s}})=>t.jsx(o.Link,{routeName:"namespace",params:{name:s.metadata.namespace},children:s.metadata.namespace})};case"name":return S();case"lastUpdated":return{header:"Last Updated",accessorFn:s=>_(s),Cell:({cell:s})=>t.jsx(o.DateLabel,{format:"mini",date:s.getValue()})};case"age":return{id:"age",header:"Age",gridTemplate:"min-content",accessorFn:s=>-new Date(s.metadata.creationTimestamp).getTime(),enableColumnFilter:!1,muiTableBodyCellProps:{align:"right"},Cell:({row:s})=>s.original&&t.jsx(o.DateLabel,{date:s.original.metadata.creationTimestamp,format:"mini"})};case"status":return{header:"Status",accessorFn:s=>t.jsx(O,{item:s})};case"message":return{header:"Message",accessorFn:s=>{var g,c,m,f;const d=(m=(c=(g=s.jsonData.status)==null?void 0:g.conditions)==null?void 0:c.find(p=>p.type==="Ready"))==null?void 0:m.message;return t.jsx(o.ShowHideLabel,{labelId:`${(f=s==null?void 0:s.metadata)==null?void 0:f.uid}-message`,children:d??""})}};default:return{header:r,accessorKey:r}}return r.extends==="name"&&r.routeNamePrefix||r.extends==="name"?S(r):r}),[n]);return t.jsx(o.Table,{data:e,loading:e===null,muiTableBodyRowProps:({row:r})=>{var s,d;return{key:((d=(s=r.original)==null?void 0:s.metadata)==null?void 0:d.uid)??JSON.stringify(r.original)}},...i,columns:l})}function J(){const a=w.useFilterFunc(),[n,e]=k().useList();return(e==null?void 0:e.status)===404?t.jsx(o.SectionBox,{title:"Volumes",children:"Longhorn Volumes CRD not found."}):e?t.jsxs(o.SectionBox,{title:"Volumes",children:["Error loading Volumes: ",e.message]}):t.jsx(o.SectionBox,{title:t.jsx(o.SectionFilterHeader,{title:"Volumes"}),children:t.jsx(H,{data:n,columns:[L(k(),"longhorn/volumes"),"namespace",{header:"State",accessorKey:"status.state"},{header:"Size",accessorKey:"spec.size"},{header:"Node",accessorKey:"status.currentNodeID"},{header:"Attached",accessorFn:i=>{var l;return((l=i.status)==null?void 0:l.state)==="attached"?"Yes":"No"}},"age"],filterFunction:a})})}function Y(){var s,d,g,c,m,f;const{namespace:a,name:n}=I.useParams(),[e,i]=k().useGet(n,a);if(i)return t.jsxs(o.SectionBox,{title:`Volume ${n}`,children:["Error loading Volume: ",i.message]});function l(p){var N,D,C,j,T,x,V,P;if(!p)return[];const h=p.jsonData;return[{name:"State",value:((N=h.status)==null?void 0:N.state)||"-"},{name:"Size",value:((D=h.spec)==null?void 0:D.size)||"-"},{name:"Node",value:((C=h.status)==null?void 0:C.currentNodeID)||"-"},{name:"Attached",value:((j=h.status)==null?void 0:j.state)==="attached"?"Yes":"No"},{name:"Robustness",value:((T=h.status)==null?void 0:T.robustness)||"-"},{name:"Replicas",value:((x=h.spec)==null?void 0:x.numberOfReplicas)||"-"},{name:"Frontend",value:((V=h.spec)==null?void 0:V.frontend)||"-"},{name:"Stale Replica Timeout",value:`${((P=h.spec)==null?void 0:P.staleReplicaTimeout)||"-"} min`}]}function r(){return[]}return t.jsxs(t.Fragment,{children:[t.jsx(o.MainInfoSection,{resource:e,extraInfo:l(e),actions:r()}),((d=(s=e==null?void 0:e.jsonData)==null?void 0:s.status)==null?void 0:d.conditions)&&t.jsx(o.SectionBox,{title:"Conditions",children:t.jsx(o.ConditionsTable,{resource:e.jsonData,showLastUpdate:!0})}),((c=(g=e==null?void 0:e.jsonData)==null?void 0:g.status)==null?void 0:c.replicas)&&t.jsx(o.SectionBox,{title:"Replicas",children:t.jsx(o.NameValueTable,{rows:e.jsonData.status.replicas.map(p=>({name:p.name,value:`Mode: ${p.mode}, Healthy: ${p.healthyAt?"Yes":"No"}`}))})}),((f=(m=e==null?void 0:e.jsonData)==null?void 0:m.status)==null?void 0:f.kubernetesStatus)&&t.jsx(o.SectionBox,{title:"Kubernetes Status",children:t.jsx(o.NameValueTable,{rows:[{name:"PV Name",value:e.jsonData.status.kubernetesStatus.pvName||"-"},{name:"PV Status",value:e.jsonData.status.kubernetesStatus.pvStatus||"-"},{name:"PVC Name",value:e.jsonData.status.kubernetesStatus.pvcName||"-"},{name:"Namespace",value:e.jsonData.status.kubernetesStatus.namespace||"-"},{name:"Last Pod Ref At",value:e.jsonData.status.kubernetesStatus.lastPodRefAt||"-"}]})})]})}u.registerSidebarEntry({parent:null,name:"longhorn",label:"Longhorn",url:"/longhorn",icon:"mdi:cow"}),u.registerSidebarEntry({parent:"longhorn",name:"volumes",label:"Volumes",url:"/longhorn/volumes"}),u.registerRoute({path:"/longhorn/volumes",name:"longhorn/volumes",parent:"longhorn",sidebar:"volumes",component:J,exact:!0}),u.registerRoute({path:"/longhorn/volumes/:namespace/:name",name:"longhorn/volume/detail",parent:"longhorn",sidebar:"volumes",component:Y,exact:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2xvbmdob3JuL2NyZC50cyIsIi4uL3NyYy9oZWxwZXJzL3BsdXJhbE5hbWUudHN4IiwiLi4vc3JjL2hlbHBlcnMvaW5kZXgudHN4IiwiLi4vc3JjL2NvbW1vbi9TdGF0dXNMYWJlbC50c3giLCIuLi9zcmMvY29tbW9uL1RhYmxlLnRzeCIsIi4uL3NyYy9sb25naG9ybi9Wb2x1bWVMaXN0LnRzeCIsIi4uL3NyYy9sb25naG9ybi9Wb2x1bWVEZXRhaWwudHN4IiwiLi4vc3JjL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvbGliL2s4cy9jcmQnO1xuXG5jb25zdCBsb25naG9ybkdyb3VwID0gJ2xvbmdob3JuLmlvJztcbi8vIEFzc3VtaW5nIHYxYmV0YTIgaXMgdGhlIGNvbW1vbiB2ZXJzaW9uLCBhZGp1c3QgaWYgbmVlZGVkIGJhc2VkIG9uIHlvdXIgY2x1c3Rlci5cbmNvbnN0IGxvbmdob3JuVmVyc2lvbiA9ICd2MWJldGEyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZvbHVtZUNsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1ZvbHVtZScsXG4gICAgcGx1cmFsTmFtZTogJ3ZvbHVtZXMnLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVDbGFzcygpIHtcbiAgcmV0dXJuIG1ha2VDdXN0b21SZXNvdXJjZUNsYXNzKHtcbiAgICBhcGlJbmZvOiBbeyBncm91cDogbG9uZ2hvcm5Hcm91cCwgdmVyc2lvbjogbG9uZ2hvcm5WZXJzaW9uIH1dLFxuICAgIGlzTmFtZXNwYWNlZDogdHJ1ZSwgLy8gTm9kZXMgYXJlIHR5cGljYWxseSBuYW1lc3BhY2VkIHRvIGxvbmdob3JuLXN5c3RlbVxuICAgIHNpbmd1bGFyTmFtZTogJ05vZGUnLFxuICAgIHBsdXJhbE5hbWU6ICdub2RlcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5naW5lQ2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnRW5naW5lJyxcbiAgICBwbHVyYWxOYW1lOiAnZW5naW5lcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGljYUNsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1JlcGxpY2EnLFxuICAgIHBsdXJhbE5hbWU6ICdyZXBsaWNhcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFja3VwVGFyZ2V0Q2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnQmFja3VwVGFyZ2V0JyxcbiAgICBwbHVyYWxOYW1lOiAnYmFja3VwdGFyZ2V0cycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFja3VwQ2xhc3MoKSB7XG4gIHJldHVybiBtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyh7XG4gICAgYXBpSW5mbzogW3sgZ3JvdXA6IGxvbmdob3JuR3JvdXAsIHZlcnNpb246IGxvbmdob3JuVmVyc2lvbiB9XSxcbiAgICBpc05hbWVzcGFjZWQ6IHRydWUsXG4gICAgc2luZ3VsYXJOYW1lOiAnQmFja3VwJyxcbiAgICBwbHVyYWxOYW1lOiAnYmFja3VwcycsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ0NsYXNzKCkge1xuICByZXR1cm4gbWFrZUN1c3RvbVJlc291cmNlQ2xhc3Moe1xuICAgIGFwaUluZm86IFt7IGdyb3VwOiBsb25naG9ybkdyb3VwLCB2ZXJzaW9uOiBsb25naG9yblZlcnNpb24gfV0sXG4gICAgaXNOYW1lc3BhY2VkOiB0cnVlLFxuICAgIHNpbmd1bGFyTmFtZTogJ1NldHRpbmcnLFxuICAgIHBsdXJhbE5hbWU6ICdzZXR0aW5ncycsXG4gIH0pO1xufVxuXG4vLyBBZGQgb3RoZXIgTG9uZ2hvcm4gQ1JEIGNsYXNzZXMgYXMgbmVlZGVkLi4uXG4vLyBlLmcuLCBSZWN1cnJpbmdKb2IsIFNuYXBzaG90LCBJbnN0YW5jZU1hbmFnZXIsIFNoYXJlTWFuYWdlciwgZXRjLiAiLCIvLyBNZXRob2QgdG8gZGVyaXZlIFBsdXJhbCBuYW1lIGZvciBhIGs4cyBraW5kLlxuLy8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2t1YmVybmV0ZXMvZ2VuZ28vYmxvYi9tYXN0ZXIvbmFtZXIvcGx1cmFsX25hbWVyLmdvIChjb252ZXJ0ZWQgZnJvbSBnbyB0byB0eXBlc2NyaXB0KS5cbi8vXG4vLyBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCBiZWNhdXNlIHRoZSBrdXN0b21pemF0aW9uIGludmVudG9yeSBwcm92aWRlcyBvbmx5IHRoZSBzaW5ndWxhciBuYW1lIG9mIHRoZSBlbnRyeSxcbi8vIHdoZXJlYXMgdGhlIGs4cyBSRVNUIEFQSSBleHBlY3RzIGEgcGx1cmFsIG5hbWUuXG5cbmltcG9ydCB7IGluZGV4T2YgfSBmcm9tICdsb2Rhc2gnOyAvLyBBc3N1bWluZyBsb2Rhc2ggaXMgYXZhaWxhYmxlIHZpYSBIZWFkbGFtcFxuXG5jb25zdCBjb25zb25hbnRzID0gJ2JjZGZnaGprbG1ucHFyc3R2d3h5eic7XG5cbi8vIE5hbWUgcmV0dXJucyB0aGUgcGx1cmFsIGZvcm0gb2YgdGhlIHR5cGUncyBuYW1lLlxuZXhwb3J0IGZ1bmN0aW9uIFBsdXJhbE5hbWUoa2luZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gSGFuZGxlIGtub3duIExvbmdob3JuIGtpbmRzIGV4cGxpY2l0bHkgZm9yIHNpbXBsaWNpdHksIHRob3VnaCB0aGUgZ2VuZXJpYyBsb2dpYyBtaWdodCB3b3JrLlxuICAvLyBBZGQgbW9yZSBzcGVjaWZpYyBtYXBwaW5ncyBpZiB0aGUgZ2VuZXJpYyBsb2dpYyBmYWlscyBmb3IgY2VydGFpbiBMb25naG9ybiBraW5kcy5cbiAgY29uc3Qga25vd25QbHVyYWxzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgIFZvbHVtZTogJ3ZvbHVtZXMnLFxuICAgIE5vZGU6ICdub2RlcycsXG4gICAgRW5naW5lOiAnZW5naW5lcycsXG4gICAgUmVwbGljYTogJ3JlcGxpY2FzJyxcbiAgICBCYWNrdXBUYXJnZXQ6ICdiYWNrdXB0YXJnZXRzJyxcbiAgICBCYWNrdXA6ICdiYWNrdXBzJyxcbiAgICBTZXR0aW5nOiAnc2V0dGluZ3MnLFxuICAgIFJlY3VycmluZ0pvYjogJ3JlY3VycmluZ2pvYnMnLFxuICAgIFNuYXBzaG90OiAnc25hcHNob3RzJyxcbiAgICBJbnN0YW5jZU1hbmFnZXI6ICdpbnN0YW5jZW1hbmFnZXJzJyxcbiAgICBTaGFyZU1hbmFnZXI6ICdzaGFyZW1hbmFnZXJzJyxcbiAgICBFbmdpbmVJbWFnZTogJ2VuZ2luZWltYWdlcycsXG4gICAgQmFja2luZ0ltYWdlOiAnYmFja2luZ2ltYWdlcycsXG4gICAgQmFja2luZ0ltYWdlTWFuYWdlcjogJ2JhY2tpbmdpbWFnZW1hbmFnZXJzJyxcbiAgICBCYWNraW5nSW1hZ2VEYXRhU291cmNlOiAnYmFja2luZ2ltYWdlZGF0YXNvdXJjZXMnLFxuICAgIFZvbHVtZUF0dGFjaG1lbnQ6ICd2b2x1bWVhdHRhY2htZW50cycsXG4gICAgT3JwaGFuOiAnb3JwaGFucycsXG4gICAgU3lzdGVtQmFja3VwOiAnc3lzdGVtYmFja3VwcycsXG4gICAgU3lzdGVtUmVzdG9yZTogJ3N5c3RlbXJlc3RvcmVzJyxcbiAgICBWb2x1bWVSZXN0b3JlOiAndm9sdW1lcmVzdG9yZXMnLFxuICAgIFZvbHVtZVJlYnVpbGRpbmc6ICd2b2x1bWVyZWJ1aWxkaW5ncycsXG4gICAgLy8gQWRkIG90aGVyIHNwZWNpZmljIG1hcHBpbmdzIGFzIG5lZWRlZFxuICB9O1xuXG4gIGlmIChrbm93blBsdXJhbHNba2luZF0pIHtcbiAgICByZXR1cm4ga25vd25QbHVyYWxzW2tpbmRdO1xuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gZ2VuZXJpYyBwbHVyYWxpemF0aW9uIGxvZ2ljIChhZGFwdGVkIGZyb20gRmx1eCBwbHVnaW4pXG4gIGNvbnN0IHNpbmd1bGFyID0ga2luZC50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBsYXN0Q2hhciA9IHNpbmd1bGFyLnN1YnN0cmluZyhzaW5ndWxhci5sZW5ndGggLSAxLCBzaW5ndWxhci5sZW5ndGgpO1xuICBjb25zdCBiZWZvcmVMYXN0Q2hhciA9IHNpbmd1bGFyLnN1YnN0cmluZyhzaW5ndWxhci5sZW5ndGggLSAyLCBzaW5ndWxhci5sZW5ndGggLSAxKTtcblxuICBzd2l0Y2ggKGxhc3RDaGFyKSB7XG4gICAgY2FzZSAncyc6XG4gICAgY2FzZSAneCc6XG4gICAgY2FzZSAneic6IHtcbiAgICAgIHJldHVybiBzaW5ndWxhciArICdlcyc7XG4gICAgfVxuICAgIGNhc2UgJ3knOlxuICAgICAgaWYgKGlzQ29uc29uYW50KGJlZm9yZUxhc3RDaGFyKSkge1xuICAgICAgICByZXR1cm4gaWVzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdoJzpcbiAgICAgIGlmIChiZWZvcmVMYXN0Q2hhciA9PT0gJ2MnIHx8IGJlZm9yZUxhc3RDaGFyID09PSAncycpIHtcbiAgICAgICAgcmV0dXJuIGVzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdlJzpcbiAgICAgIGlmIChiZWZvcmVMYXN0Q2hhciA9PT0gJ2YnKSB7XG4gICAgICAgIHJldHVybiB2ZXNQbHVyYWwoc2luZ3VsYXIuc3Vic3RyaW5nKDAsIHNpbmd1bGFyLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzUGx1cmFsKHNpbmd1bGFyKTtcbiAgICAgIH1cbiAgICBjYXNlICdmJzpcbiAgICAgIHJldHVybiB2ZXNQbHVyYWwoc2luZ3VsYXIpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc1BsdXJhbChzaW5ndWxhcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXNQbHVyYWwoc2luZ3VsYXI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzaW5ndWxhciArICdlcyc7XG59XG5mdW5jdGlvbiBpZXNQbHVyYWwoc2luZ3VsYXI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzaW5ndWxhci5zdWJzdHJpbmcoMCwgc2luZ3VsYXIubGVuZ3RoIC0gMSkgKyAnaWVzJztcbn1cblxuZnVuY3Rpb24gc1BsdXJhbChzaW5ndWxhcjogc3RyaW5nKSB7XG4gIHJldHVybiBzaW5ndWxhciArICdzJztcbn1cblxuZnVuY3Rpb24gdmVzUGx1cmFsKHNpbmd1bGFyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc2luZ3VsYXIuc3Vic3RyaW5nKDAsIHNpbmd1bGFyLmxlbmd0aCAtIDEpICsgJ3Zlcyc7XG59XG5cbmZ1bmN0aW9uIGlzQ29uc29uYW50KHJ1bmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gY29uc29uYW50cy5pbmRleE9mKHJ1bmUpID49IDA7IC8vIENoYW5nZWQgZnJvbSBpbmRleE9mIHRvIHN0YW5kYXJkIGluZGV4T2Zcbn0gIiwiaW1wb3J0IHsgTGluayB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvY29tcG9uZW50cy9jb21tb24nO1xuaW1wb3J0IHsgS3ViZU9iamVjdENsYXNzIH0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9saWIvazhzL2NsdXN0ZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBsdXJhbE5hbWUgfSBmcm9tICcuL3BsdXJhbE5hbWUnOyAvLyBBc3N1bWluZyBwbHVyYWxOYW1lIGhlbHBlciBleGlzdHMgb3Igd2lsbCBiZSBjcmVhdGVkXG5cbi8qKlxuICogR2VuZXJhdGVzIGEgdGFibGUgY29sdW1uIGRlZmluaXRpb24gZm9yIGxpbmtpbmcgdG8gYSByZXNvdXJjZSdzIGRldGFpbHMgcGFnZS5cbiAqIEBwYXJhbSByZXNvdXJjZUNsYXNzIFRoZSBLdWJlT2JqZWN0Q2xhc3MgZm9yIHRoZSByZXNvdXJjZS5cbiAqIEBwYXJhbSByb3V0ZU5hbWVQcmVmaXggQSBwcmVmaXggZm9yIHRoZSByb3V0ZSBuYW1lIChlLmcuLCAnbG9uZ2hvcm4vdm9sdW1lcycpIHRvIGVuc3VyZSB1bmlxdWVuZXNzLlxuICogQHJldHVybnMgQSBUYWJsZUNvbCBvYmplY3QgZm9yIHRoZSBOYW1lIGNvbHVtbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5hbWVMaW5rKHJlc291cmNlQ2xhc3M6IEt1YmVPYmplY3RDbGFzcywgcm91dGVOYW1lUHJlZml4OiBzdHJpbmcpIHtcbiAgY29uc3QgcGx1cmFsTmFtZSA9IFBsdXJhbE5hbWUocmVzb3VyY2VDbGFzcy5raW5kKTtcblxuICByZXR1cm4ge1xuICAgIGhlYWRlcjogJ05hbWUnLFxuICAgIGFjY2Vzc29yS2V5OiAnbWV0YWRhdGEubmFtZScsXG4gICAgQ2VsbDogKHsgY2VsbCwgcm93IH06IHsgY2VsbDogYW55OyByb3c6IHsgb3JpZ2luYWw6IGFueSB9IH0pID0+IChcbiAgICAgIDxMaW5rXG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgcm91dGUgbmFtZSB1c2luZyB0aGUgcHJlZml4IGFuZCBwbHVyYWwgbmFtZVxuICAgICAgICByb3V0ZU5hbWU9e2Ake3JvdXRlTmFtZVByZWZpeH1gfVxuICAgICAgICBwYXJhbXM9e3tcbiAgICAgICAgICBuYW1lOiByb3cub3JpZ2luYWwubWV0YWRhdGEubmFtZSxcbiAgICAgICAgICBuYW1lc3BhY2U6IHJvdy5vcmlnaW5hbC5tZXRhZGF0YS5uYW1lc3BhY2UsXG4gICAgICAgICAgLy8gUGFzcyBwbHVyYWxOYW1lIGlmIG5lZWRlZCBieSB0aGUgcm91dGUsIGFkanVzdCBhcyBuZWNlc3NhcnlcbiAgICAgICAgICAvLyBwbHVyYWxOYW1lOiBwbHVyYWxOYW1lLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3Bhbj57Y2VsbC5nZXRWYWx1ZSgpfTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApLFxuICB9O1xufVxuXG4vLyBBZGQgb3RoZXIgaGVscGVyIGZ1bmN0aW9ucyBhcyBuZWVkZWQsIGUuZy4sIFBsdXJhbE5hbWUsIE9iamVjdEV2ZW50cywgU3RhdHVzTGFiZWwgYWRhcHRhdGlvbnMgIiwiaW1wb3J0IHsgU3RhdHVzTGFiZWwgYXMgSExTdGF0dXNMYWJlbCB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvY29tcG9uZW50cy9jb21tb24nO1xuaW1wb3J0IHsgS3ViZUNSRCB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvbGliL2s4cy9jcmQnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFN0YXR1c0xhYmVsUHJvcHMge1xuICBpdGVtOiBLdWJlQ1JEO1xufVxuXG4vLyBCYXNpYyBTdGF0dXNMYWJlbCBhZGFwdGVkIGZyb20gRmx1eC4gTmVlZHMgY3VzdG9taXphdGlvbiBmb3IgTG9uZ2hvcm4gc3RhdGVzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RhdHVzTGFiZWwocHJvcHM6IFN0YXR1c0xhYmVsUHJvcHMpIHtcbiAgY29uc3QgeyBpdGVtIH0gPSBwcm9wcztcblxuICAvLyBDaGVjayBpZiBpdGVtIG9yIGpzb25EYXRhIG9yIHN0YXR1cyBpcyBudWxsL3VuZGVmaW5lZCBiZWZvcmUgYWNjZXNzaW5nIHByb3BlcnRpZXNcbiAgaWYgKCFpdGVtPy5qc29uRGF0YT8uc3RhdHVzKSB7XG4gICAgcmV0dXJuIDxzcGFuPi08L3NwYW4+OyAvLyBPciBzb21lIG90aGVyIHBsYWNlaG9sZGVyXG4gIH1cblxuICAvLyBFeGFtcGxlOiBVc2UgTG9uZ2hvcm4ncyBzcGVjaWZpYyBzdGF0ZSBpZiBhdmFpbGFibGVcbiAgY29uc3QgbG9uZ2hvcm5TdGF0ZSA9IGl0ZW0uanNvbkRhdGEuc3RhdHVzLnN0YXRlO1xuICBpZiAobG9uZ2hvcm5TdGF0ZSkge1xuICAgIGxldCBzdGF0dXNUeXBlOiAnc3VjY2VzcycgfCAnd2FybmluZycgfCAnZXJyb3InIHwgJycgPSAnJztcbiAgICBsZXQgc3RhdHVzVGV4dCA9IGxvbmdob3JuU3RhdGU7XG5cbiAgICBzd2l0Y2ggKGxvbmdob3JuU3RhdGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSAnYXR0YWNoZWQnOlxuICAgICAgY2FzZSAnaGVhbHRoeSc6IC8vIEFzc3VtaW5nICdoZWFsdGh5JyBtaWdodCBiZSBhIHN0YXRlXG4gICAgICAgIHN0YXR1c1R5cGUgPSAnc3VjY2Vzcyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGV0YWNoZWQnOlxuICAgICAgY2FzZSAnZGVncmFkZWQnOiAvLyBBc3N1bWluZyAnZGVncmFkZWQnIG1pZ2h0IGJlIGEgc3RhdGVcbiAgICAgIGNhc2UgJ2NyZWF0aW5nJzogLy8gT3Igb3RoZXIgaW50ZXJtZWRpYXRlIHN0YXRlc1xuICAgICAgY2FzZSAncmVidWlsZGluZyc6XG4gICAgICAgIHN0YXR1c1R5cGUgPSAnd2FybmluZyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZmF1bHRlZCc6XG4gICAgICBjYXNlICdlcnJvcic6IC8vIEFzc3VtaW5nICdlcnJvcicgbWlnaHQgYmUgYSBzdGF0ZVxuICAgICAgICBzdGF0dXNUeXBlID0gJ2Vycm9yJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBLZWVwIHRleHQgYXMgaXMsIG1heWJlIG1hcmsgYXMgdW5rbm93bi93YXJuaW5nXG4gICAgICAgIHN0YXR1c1R5cGUgPSAnd2FybmluZyc7IFxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIDxITFN0YXR1c0xhYmVsIHN0YXR1cz17c3RhdHVzVHlwZX0+e3N0YXR1c1RleHR9PC9ITFN0YXR1c0xhYmVsPjtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIGdlbmVyaWMgUmVhZHkgY29uZGl0aW9uIGlmIHN0YXRlIGlzIG5vdCBwcmVzZW50IChsaWtlIGluIEZsdXgpXG4gIGNvbnN0IHJlYWR5ID0gaXRlbS5qc29uRGF0YS5zdGF0dXMuY29uZGl0aW9ucz8uZmluZChjID0+IGMudHlwZSA9PT0gJ1JlYWR5Jyk7XG4gIGlmICghcmVhZHkpIHtcbiAgICByZXR1cm4gPHNwYW4+LTwvc3Bhbj47XG4gIH1cblxuICBpZiAoaXRlbT8uanNvbkRhdGE/LnNwZWM/LnN1c3BlbmQpIHtcbiAgICByZXR1cm4gPEhMU3RhdHVzTGFiZWwgc3RhdHVzPVwid2FybmluZ1wiPlN1c3BlbmRlZDwvSExTdGF0dXNMYWJlbD47XG4gIH1cbiAgaWYgKHJlYWR5LnN0YXR1cyA9PT0gJ1Vua25vd24nKSB7XG4gICAgcmV0dXJuIDxITFN0YXR1c0xhYmVsIHN0YXR1cz1cIndhcm5pbmdcIj5SZWNvbmNpbGluZ+KApjwvSExTdGF0dXNMYWJlbD47XG4gIH1cblxuICAvLyBUaGlzIHBhcnQgbWlnaHQgbmVlZCBhZGp1c3RtZW50IGJhc2VkIG9uIExvbmdob3JuIGNvbmRpdGlvbiByZWFzb25zXG4gIGlmIChyZWFkeS5yZWFzb24gPT09ICdEZXBlbmRlbmN5Tm90UmVhZHknKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxITFN0YXR1c0xhYmVsIHN0YXR1cz17J3dhcm5pbmcnfT5cbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e3JlYWR5Lm1lc3NhZ2V9PnsnV2FpdGluZyd9PC9Ub29sdGlwPlxuICAgICAgPC9ITFN0YXR1c0xhYmVsPlxuICAgICk7XG4gIH1cblxuICBjb25zdCBpc1JlYWR5ID0gcmVhZHkuc3RhdHVzID09PSAnVHJ1ZSc7XG4gIHJldHVybiAoXG4gICAgPEhMU3RhdHVzTGFiZWwgc3RhdHVzPXtpc1JlYWR5ID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJ30+XG4gICAgICA8VG9vbHRpcCB0aXRsZT17cmVhZHkubWVzc2FnZX0+e2lzUmVhZHkgPyAnUmVhZHknIDogJ0ZhaWxlZCd9PC9Ub29sdGlwPlxuICAgIDwvSExTdGF0dXNMYWJlbD5cbiAgKTtcbn0gIiwiaW1wb3J0IHtcbiAgRGF0ZUxhYmVsLFxuICBMaW5rLFxuICBTaG93SGlkZUxhYmVsLFxuICBUYWJsZSBhcyBIVGFibGUsXG4gIFRhYmxlQ29sdW1uLFxuICBUYWJsZVByb3BzIGFzIEhUYWJsZVByb3BzLFxufSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2NvbXBvbmVudHMvY29tbW9uJztcbmltcG9ydCB7IEt1YmVPYmplY3QsIEt1YmVPYmplY3RDbGFzcyB9IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvbGliL2s4cy9jbHVzdGVyJztcbmltcG9ydCB7IEt1YmVDUkQgfSBmcm9tICdAa2ludm9say9oZWFkbGFtcC1wbHVnaW4vbGliL2xpYi9rOHMvY3JkJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vLyBBZGp1c3QgaW1wb3J0IGlmIGhlbHBlcnMgc3RydWN0dXJlIGRpZmZlcnNcbmltcG9ydCB7IE5hbWVMaW5rIH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgU3RhdHVzTGFiZWwgZnJvbSAnLi9TdGF0dXNMYWJlbCc7IC8vIEFzc3VtaW5nIFN0YXR1c0xhYmVsIGV4aXN0cyBvciB3aWxsIGJlIGNyZWF0ZWRcblxudHlwZSBDb21tb25Db2x1bW5UeXBlID1cbiAgfCAnbmFtZXNwYWNlJ1xuICB8ICduYW1lJ1xuICB8ICdsYXN0VXBkYXRlZCdcbiAgfCAnYWdlJ1xuICB8ICdzdGF0dXMnXG4gIHwgJ21lc3NhZ2UnIC8vIEFkZGVkIG1lc3NhZ2UgZm9yIGNvbnNpc3RlbmN5XG4gIHwgc3RyaW5nOyAvLyBBbGxvdyBvdGhlciBzdHJpbmcga2V5cyBmb3IgY3VzdG9tIGNvbHVtbnNcblxuaW50ZXJmYWNlIFRhYmxlQ29sIHtcbiAgaGVhZGVyOiBzdHJpbmc7XG4gIGFjY2Vzc29yS2V5Pzogc3RyaW5nO1xuICBhY2Nlc3NvckZuPzogKGl0ZW06IGFueSkgPT4gUmVhY3QuUmVhY3ROb2RlO1xuICBDZWxsPzogKHByb3BzOiB7IHJvdzogeyBvcmlnaW5hbDogYW55IH07IGNlbGw6IGFueSB9KSA9PiBSZWFjdC5SZWFjdE5vZGU7IC8vIEFkZGVkIGNlbGwgcHJvcCBmb3IgZmxleGliaWxpdHlcbiAgaWQ/OiBzdHJpbmc7IC8vIEFkZGVkIGlkIGZvciBzb3J0aW5nL2ZpbHRlcmluZ1xuICBncmlkVGVtcGxhdGU/OiBzdHJpbmc7IC8vIEFkZGVkIGZvciBsYXlvdXQgY29udHJvbFxuICBlbmFibGVDb2x1bW5GaWx0ZXI/OiBib29sZWFuOyAvLyBBZGRlZCBmb3IgZmlsdGVyaW5nIGNvbnRyb2xcbiAgbXVpVGFibGVCb2R5Q2VsbFByb3BzPzogb2JqZWN0OyAvLyBBZGRlZCBmb3IgTVVJIGNlbGwgcHJvcHNcbiAgcmVzb3VyY2VDbGFzcz86IEt1YmVPYmplY3RDbGFzczsgLy8gQWRkZWQgcmVzb3VyY2VDbGFzcyB0byBUYWJsZUNvbCBkZWZpbml0aW9uXG59XG5cbmludGVyZmFjZSBOYW1lQ29sdW1uIGV4dGVuZHMgUGFydGlhbDxUYWJsZUNvbD4ge1xuICBleHRlbmRzOiAnbmFtZSc7XG4gIHJvdXRlTmFtZT86IHN0cmluZztcbiAgcm91dGVOYW1lUHJlZml4Pzogc3RyaW5nOyAvLyBBZGQgcHJlZml4IGZvciB1bmlxdWUgcm91dGUgZ2VuZXJhdGlvblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlUHJvcHMgZXh0ZW5kcyBPbWl0PEhUYWJsZVByb3BzPGFueT4sICdjb2x1bW5zJz4ge1xuICBjb2x1bW5zOiAoVGFibGVDb2wgfCBDb21tb25Db2x1bW5UeXBlIHwgTmFtZUNvbHVtbiB8IFRhYmxlQ29sdW1uPGFueSwgYW55PilbXTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUxhc3RVcGRhdGVkKGl0ZW06IEt1YmVDUkQpIHtcbiAgLy8gQWRhcHQgYmFzZWQgb24gd2hlcmUgTG9uZ2hvcm4gc3RvcmVzIHRoZSBsYXN0IHVwZGF0ZSB0aW1lXG4gIGNvbnN0IGNvbmRpdGlvbiA9IGl0ZW0/Lmpzb25EYXRhPy5zdGF0dXM/LmNvbmRpdGlvbnM/LmZpbmQoYyA9PiBjLnR5cGUgPT09ICdSZWFkeScpO1xuICByZXR1cm4gY29uZGl0aW9uPy5sYXN0VHJhbnNpdGlvblRpbWUgfHwgaXRlbT8uanNvbkRhdGE/Lm1ldGFkYXRhPy5jcmVhdGlvblRpbWVzdGFtcDtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZU5hbWVDb2x1bW4oY29sUHJvcHM6IFBhcnRpYWw8TmFtZUNvbHVtbj4gPSB7fSk6IFRhYmxlQ29sIHtcbiAgY29uc3QgeyByb3V0ZU5hbWUsIHJvdXRlTmFtZVByZWZpeCwgcmVzb3VyY2VDbGFzcywgLi4uZ2VuZXJpY1Byb3BzIH0gPSBjb2xQcm9wcyBhcyBOYW1lQ29sdW1uICYge1xuICAgIHJlc291cmNlQ2xhc3M/OiBLdWJlT2JqZWN0Q2xhc3M7XG4gIH07XG4gIGRlbGV0ZSBnZW5lcmljUHJvcHMuZXh0ZW5kcztcblxuICAvLyBVc2UgdGhlIE5hbWVMaW5rIGhlbHBlciBpZiBhdmFpbGFibGUgYW5kIHJvdXRlTmFtZVByZWZpeCBpcyBwcm92aWRlZFxuICBpZiAocm91dGVOYW1lUHJlZml4ICYmIHJlc291cmNlQ2xhc3MpIHtcbiAgICByZXR1cm4gTmFtZUxpbmsocmVzb3VyY2VDbGFzcywgcm91dGVOYW1lUHJlZml4KTtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIGdlbmVyaWMgbmFtZSBjb2x1bW4gKHBvdGVudGlhbGx5IHdpdGhvdXQgbGlua2luZylcbiAgcmV0dXJuIHtcbiAgICBoZWFkZXI6ICdOYW1lJyxcbiAgICBhY2Nlc3NvcktleTogJ21ldGFkYXRhLm5hbWUnLFxuICAgIC4uLihyb3V0ZU5hbWVcbiAgICAgID8ge1xuICAgICAgICAgIENlbGw6ICh7IHJvdzogeyBvcmlnaW5hbDogaXRlbSB9IH0pID0+IChcbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHJvdXRlTmFtZT17cm91dGVOYW1lfSAvLyBVc2UgcHJvdmlkZWQgcm91dGVOYW1lIGlmIG5vIHByZWZpeCBsb2dpYyBuZWVkZWRcbiAgICAgICAgICAgICAgcGFyYW1zPXt7XG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbS5tZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogaXRlbS5tZXRhZGF0YS5uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgLy8gcGx1cmFsTmFtZSBtaWdodCBub3QgYmUgbmVlZGVkIGlmIHJvdXRlIGlzIHNpbXBsZVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXRlbS5tZXRhZGF0YS5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICksXG4gICAgICAgIH1cbiAgICAgIDoge30pLFxuICAgIC4uLmdlbmVyaWNQcm9wcyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlKHByb3BzOiBUYWJsZVByb3BzKSB7XG4gIGNvbnN0IHsgY29sdW1ucywgZGF0YSwgLi4ub3RoZXJQcm9wcyB9ID0gcHJvcHM7XG5cbiAgY29uc3QgcHJvY2Vzc2VkQ29sdW1ucyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjb2x1bW5zLm1hcChjb2x1bW4gPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjb2x1bW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN3aXRjaCAoY29sdW1uKSB7XG4gICAgICAgICAgY2FzZSAnbmFtZXNwYWNlJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGhlYWRlcjogJ05hbWVzcGFjZScsXG4gICAgICAgICAgICAgIGFjY2Vzc29yS2V5OiAnbWV0YWRhdGEubmFtZXNwYWNlJyxcbiAgICAgICAgICAgICAgQ2VsbDogKHsgcm93OiB7IG9yaWdpbmFsOiBpdGVtIH0gfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxMaW5rIHJvdXRlTmFtZT1cIm5hbWVzcGFjZVwiIHBhcmFtcz17eyBuYW1lOiBpdGVtLm1ldGFkYXRhLm5hbWVzcGFjZSB9fT5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLm1ldGFkYXRhLm5hbWVzcGFjZX1cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgICAgLy8gRGVmYXVsdCBuYW1lIGNvbHVtbiB3aXRob3V0IHNwZWNpZmljIGxpbmtpbmdcbiAgICAgICAgICAgIHJldHVybiBwcmVwYXJlTmFtZUNvbHVtbigpO1xuICAgICAgICAgIGNhc2UgJ2xhc3RVcGRhdGVkJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGhlYWRlcjogJ0xhc3QgVXBkYXRlZCcsXG4gICAgICAgICAgICAgIGFjY2Vzc29yRm46IGl0ZW0gPT4gcHJlcGFyZUxhc3RVcGRhdGVkKGl0ZW0pLFxuICAgICAgICAgICAgICBDZWxsOiAoeyBjZWxsIH06IGFueSkgPT4gPERhdGVMYWJlbCBmb3JtYXQ9XCJtaW5pXCIgZGF0ZT17Y2VsbC5nZXRWYWx1ZSgpfSAvPixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgY2FzZSAnYWdlJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiAnYWdlJyxcbiAgICAgICAgICAgICAgaGVhZGVyOiAnQWdlJyxcbiAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlOiAnbWluLWNvbnRlbnQnLFxuICAgICAgICAgICAgICBhY2Nlc3NvckZuOiAoaXRlbTogS3ViZU9iamVjdCkgPT5cbiAgICAgICAgICAgICAgICAtbmV3IERhdGUoaXRlbS5tZXRhZGF0YS5jcmVhdGlvblRpbWVzdGFtcCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICBlbmFibGVDb2x1bW5GaWx0ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICBtdWlUYWJsZUJvZHlDZWxsUHJvcHM6IHtcbiAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgQ2VsbDogKHsgcm93IH0pID0+XG4gICAgICAgICAgICAgICAgcm93Lm9yaWdpbmFsICYmIChcbiAgICAgICAgICAgICAgICAgIDxEYXRlTGFiZWwgZGF0ZT17cm93Lm9yaWdpbmFsLm1ldGFkYXRhLmNyZWF0aW9uVGltZXN0YW1wfSBmb3JtYXQ9XCJtaW5pXCIgLz5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaGVhZGVyOiAnU3RhdHVzJyxcbiAgICAgICAgICAgICAgLy8gVXNlIGFjY2Vzc29yRm4gZm9yIGN1c3RvbSBjb21wb25lbnRzXG4gICAgICAgICAgICAgIGFjY2Vzc29yRm46IChpdGVtOiBLdWJlQ1JEKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTdGF0dXNMYWJlbCBpdGVtPXtpdGVtfSAvPjsgLy8gQXNzdW1pbmcgU3RhdHVzTGFiZWwgaGFuZGxlcyBMb25naG9ybiBzdGF0dXNcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gQWx0ZXJuYXRpdmVseSwgdXNlIGFjY2Vzc29yS2V5IGlmIHN0YXR1cyBpcyBhIHNpbXBsZSBzdHJpbmdcbiAgICAgICAgICAgICAgLy8gYWNjZXNzb3JLZXk6ICdzdGF0dXMucGhhc2UnLCAvLyBFeGFtcGxlIGZvciBzaW1wbGUgc3RhdHVzIGZpZWxkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOiAvLyBBZGRlZCBmb3IgY29uc2lzdGVuY3kgd2l0aCBGbHV4IGV4YW1wbGVcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGhlYWRlcjogJ01lc3NhZ2UnLFxuICAgICAgICAgICAgICBhY2Nlc3NvckZuOiBpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAvLyBBZGFwdCB0aGlzIGxvZ2ljIHRvIGZpbmQgdGhlIHJlbGV2YW50IG1lc3NhZ2UgaW4gTG9uZ2hvcm4gc3RhdHVzXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGl0ZW0uanNvbkRhdGEuc3RhdHVzPy5jb25kaXRpb25zPy5maW5kKFxuICAgICAgICAgICAgICAgICAgYyA9PiBjLnR5cGUgPT09ICdSZWFkeSdcbiAgICAgICAgICAgICAgICApPy5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8U2hvd0hpZGVMYWJlbCBsYWJlbElkPXtgJHtpdGVtPy5tZXRhZGF0YT8udWlkfS1tZXNzYWdlYH0+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlID8/ICcnfVxuICAgICAgICAgICAgICAgICAgPC9TaG93SGlkZUxhYmVsPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIC8vIEFkZCBvdGhlciBjb21tb24gTG9uZ2hvcm4gY29sdW1ucyBoZXJlIGlmIG5lZWRlZFxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBIYW5kbGUgY3VzdG9tIHN0cmluZyBjb2x1bW5zIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGBVbmhhbmRsZWQgY29tbW9uIGNvbHVtbiBzdHJpbmc6ICR7Y29sdW1ufWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaGVhZGVyOiBjb2x1bW4sIC8vIFVzZSB0aGUgc3RyaW5nIGFzIGhlYWRlciBieSBkZWZhdWx0XG4gICAgICAgICAgICAgIGFjY2Vzc29yS2V5OiBjb2x1bW4sIC8vIEFzc3VtZSBpdCdzIGEgZGlyZWN0IGtleSBwYXRoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IC8vIGVuZCBpZiB0eXBlb2YgY29sdW1uID09PSAnc3RyaW5nJ1xuXG4gICAgICAvLyBIYW5kbGUgTmFtZUNvbHVtbiBjb25maWd1cmF0aW9uIHdpdGggcm91dGVOYW1lUHJlZml4XG4gICAgICBpZiAoKGNvbHVtbiBhcyBOYW1lQ29sdW1uKS5leHRlbmRzID09PSAnbmFtZScgJiYgKGNvbHVtbiBhcyBOYW1lQ29sdW1uKS5yb3V0ZU5hbWVQcmVmaXgpIHtcbiAgICAgICAgLy8gUGFzcyB0aGUgcmVzb3VyY2VDbGFzcyBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgY29sdW1uIGRlZmluaXRpb25cbiAgICAgICAgY29uc3QgbmFtZUNvbFByb3BzID0gY29sdW1uIGFzIE5hbWVDb2x1bW4gJiB7IHJlc291cmNlQ2xhc3M/OiBLdWJlT2JqZWN0Q2xhc3MgfTtcbiAgICAgICAgcmV0dXJuIHByZXBhcmVOYW1lQ29sdW1uKG5hbWVDb2xQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBnZW5lcmljIE5hbWVDb2x1bW4gd2l0aG91dCBwcmVmaXggKG9yIGZhbGxiYWNrKVxuICAgICAgaWYgKChjb2x1bW4gYXMgTmFtZUNvbHVtbikuZXh0ZW5kcyA9PT0gJ25hbWUnKSB7XG4gICAgICAgIHJldHVybiBwcmVwYXJlTmFtZUNvbHVtbihjb2x1bW4gYXMgTmFtZUNvbHVtbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFBhc3MgdGhyb3VnaCBvdGhlciBjb2x1bW4gY29uZmlndXJhdGlvbnMgZGlyZWN0bHlcbiAgICAgIHJldHVybiBjb2x1bW4gYXMgVGFibGVDb2w7XG4gICAgfSk7XG4gIH0sIFtjb2x1bW5zXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8SFRhYmxlXG4gICAgICBkYXRhPXtkYXRhfVxuICAgICAgbG9hZGluZz17ZGF0YSA9PT0gbnVsbH1cbiAgICAgIG11aVRhYmxlQm9keVJvd1Byb3BzPXsoeyByb3cgfSkgPT4gKHtcbiAgICAgICAga2V5OiByb3cub3JpZ2luYWw/Lm1ldGFkYXRhPy51aWQgPz8gSlNPTi5zdHJpbmdpZnkocm93Lm9yaWdpbmFsKSxcbiAgICAgIH0pfVxuICAgICAgey4uLm90aGVyUHJvcHN9XG4gICAgICBjb2x1bW5zPXtwcm9jZXNzZWRDb2x1bW5zIGFzIFRhYmxlQ29sW119XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFibGU7ICIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZWN0aW9uQm94LCBTZWN0aW9uRmlsdGVySGVhZGVyIH0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9jb21wb25lbnRzL2NvbW1vbic7XG5pbXBvcnQgeyB1c2VGaWx0ZXJGdW5jIH0gZnJvbSAnQGtpbnZvbGsvaGVhZGxhbXAtcGx1Z2luL2xpYi9VdGlscyc7XG5pbXBvcnQgeyB2b2x1bWVDbGFzcyB9IGZyb20gJy4vY3JkJztcbmltcG9ydCB7IE5hbWVMaW5rIH0gZnJvbSAnLi4vaGVscGVycyc7IC8vIEFzc3VtaW5nIGhlbHBlcnMgZXhpc3QgZnJvbSBGbHV4IGV4YW1wbGVcbmltcG9ydCBUYWJsZSBmcm9tICcuLi9jb21tb24vVGFibGUnOyAvLyBBc3N1bWluZyBjb21tb24gVGFibGUgZXhpc3RzXG5cbmV4cG9ydCBmdW5jdGlvbiBWb2x1bWVzKCkge1xuICBjb25zdCBmaWx0ZXJGdW5jdGlvbiA9IHVzZUZpbHRlckZ1bmMoKTtcbiAgY29uc3QgW3ZvbHVtZXMsIGVycm9yXSA9IHZvbHVtZUNsYXNzKCkudXNlTGlzdCgpO1xuXG4gIC8vIEJhc2ljIGVycm9yIGhhbmRsaW5nIChzaW1pbGFyIHRvIEZsdXgncyBOb3RTdXBwb3J0ZWQpXG4gIGlmIChlcnJvcj8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAvLyBZb3UgbWlnaHQgd2FudCBhIHNwZWNpZmljIExvbmdob3JuTm90SW5zdGFsbGVkIGNvbXBvbmVudCBsYXRlclxuICAgIHJldHVybiA8U2VjdGlvbkJveCB0aXRsZT1cIlZvbHVtZXNcIj5Mb25naG9ybiBWb2x1bWVzIENSRCBub3QgZm91bmQuPC9TZWN0aW9uQm94PjtcbiAgfVxuICBpZiAoZXJyb3IpIHtcbiAgICAgcmV0dXJuIDxTZWN0aW9uQm94IHRpdGxlPVwiVm9sdW1lc1wiPkVycm9yIGxvYWRpbmcgVm9sdW1lczoge2Vycm9yLm1lc3NhZ2V9PC9TZWN0aW9uQm94PjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFNlY3Rpb25Cb3ggdGl0bGU9ezxTZWN0aW9uRmlsdGVySGVhZGVyIHRpdGxlPVwiVm9sdW1lc1wiIC8+fT5cbiAgICAgIDxUYWJsZVxuICAgICAgICBkYXRhPXt2b2x1bWVzfVxuICAgICAgICBjb2x1bW5zPXtbXG4gICAgICAgICAgTmFtZUxpbmsodm9sdW1lQ2xhc3MoKSwgJ2xvbmdob3JuL3ZvbHVtZXMnKSwgLy8gVXNlIGEgdW5pcXVlIHJvdXRlIG5hbWUgcHJlZml4XG4gICAgICAgICAgJ25hbWVzcGFjZScsIC8vIEFzc3VtaW5nIHZvbHVtZXMgYXJlIG5hbWVzcGFjZWRcbiAgICAgICAgICB7XG4gICAgICAgICAgICBoZWFkZXI6ICdTdGF0ZScsXG4gICAgICAgICAgICBhY2Nlc3NvcktleTogJ3N0YXR1cy5zdGF0ZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBoZWFkZXI6ICdTaXplJyxcbiAgICAgICAgICAgIGFjY2Vzc29yS2V5OiAnc3BlYy5zaXplJywgLy8gQWRqdXN0IGFjY2Vzc29yIGJhc2VkIG9uIGFjdHVhbCBDUkQgc3RydWN0dXJlXG4gICAgICAgICAgICAgLy8gQWRkIGZvcm1hdHRpbmcgaWYgbmVlZGVkIChlLmcuLCBieXRlcyB0byBHaUIpXG4gICAgICAgICAgfSxcbiAgICAgICAgICAge1xuICAgICAgICAgICAgaGVhZGVyOiAnTm9kZScsXG4gICAgICAgICAgICBhY2Nlc3NvcktleTogJ3N0YXR1cy5jdXJyZW50Tm9kZUlEJywgLy8gQWRqdXN0IGFjY2Vzc29yXG4gICAgICAgICAgfSxcbiAgICAgICAgICAge1xuICAgICAgICAgICAgaGVhZGVyOiAnQXR0YWNoZWQnLFxuICAgICAgICAgICAgLy9hY2Nlc3NvcktleTogJ3N0YXR1cy5pc0F0dGFjaGVkJywgLy8gQ2hlY2sgYWN0dWFsIGZpZWxkXG4gICAgICAgICAgICAgYWNjZXNzb3JGbjogaXRlbSA9PiBpdGVtLnN0YXR1cz8uc3RhdGUgPT09ICdhdHRhY2hlZCcgPyAnWWVzJyA6ICdObycsIC8vIEV4YW1wbGUgZGVyaXZlZCBzdGF0ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQWRkIG1vcmUgcmVsZXZhbnQgY29sdW1uczogUm9idXN0bmVzcywgUmVwbGljYXMsIGV0Yy5cbiAgICAgICAgICAnYWdlJyxcbiAgICAgICAgXX1cbiAgICAgICAgZmlsdGVyRnVuY3Rpb249e2ZpbHRlckZ1bmN0aW9ufVxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBzb3J0aW5nIGlmIGRlc2lyZWRcbiAgICAgIC8+XG4gICAgPC9TZWN0aW9uQm94PlxuICApO1xufSAiLCJpbXBvcnQge1xuICBDb25kaXRpb25zVGFibGUsXG4gIE1haW5JbmZvU2VjdGlvbixcbiAgTmFtZVZhbHVlVGFibGUsXG4gIFNlY3Rpb25Cb3gsXG59IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWIvY29tcG9uZW50cy9jb21tb24nO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdm9sdW1lQ2xhc3MgfSBmcm9tICcuL2NyZCc7IC8vIEltcG9ydCB0aGUgQ1JEIGNsYXNzXG4vLyBpbXBvcnQgeyBPYmplY3RFdmVudHMgfSBmcm9tICcuLi9oZWxwZXJzJzsgLy8gQXNzdW1pbmcgT2JqZWN0RXZlbnRzIGhlbHBlciBleGlzdHNcbi8vIEltcG9ydCBhY3Rpb25zIGlmL3doZW4gTG9uZ2hvcm4gc3VwcG9ydHMgc2ltaWxhciBhY3Rpb25zIChTdXNwZW5kLCBSZXN1bWUsIFN5bmM/KVxuXG5leHBvcnQgZnVuY3Rpb24gVm9sdW1lRGV0YWlsKCkge1xuICAvLyBVc2UgYG5hbWVgIGFuZCBgbmFtZXNwYWNlYCBmcm9tIFVSTCBwYXJhbXNcbiAgY29uc3QgeyBuYW1lc3BhY2UsIG5hbWUgfSA9IHVzZVBhcmFtczx7IG5hbWU6IHN0cmluZzsgbmFtZXNwYWNlOiBzdHJpbmcgfT4oKTtcbiAgY29uc3QgW3ZvbHVtZSwgZXJyb3JdID0gdm9sdW1lQ2xhc3MoKS51c2VHZXQobmFtZSwgbmFtZXNwYWNlKTtcblxuICAvLyBCYXNpYyBlcnJvciBoYW5kbGluZ1xuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gPFNlY3Rpb25Cb3ggdGl0bGU9e2BWb2x1bWUgJHtuYW1lfWB9PkVycm9yIGxvYWRpbmcgVm9sdW1lOiB7ZXJyb3IubWVzc2FnZX08L1NlY3Rpb25Cb3g+O1xuICB9XG5cbiAgLy8gUHJlcGFyZSBkYXRhIGZvciB0aGUgTWFpbkluZm9TZWN0aW9uXG4gIGZ1bmN0aW9uIHByZXBhcmVFeHRyYUluZm8oaXRlbTogYW55KSB7XG4gICAgaWYgKCFpdGVtKSByZXR1cm4gW107XG4gICAgY29uc3QganNvbkRhdGEgPSBpdGVtLmpzb25EYXRhOyAvLyBGb3IgZWFzaWVyIGFjY2Vzc1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1N0YXRlJyxcbiAgICAgICAgdmFsdWU6IGpzb25EYXRhLnN0YXR1cz8uc3RhdGUgfHwgJy0nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NpemUnLFxuICAgICAgICAvLyBBZGQgZm9ybWF0dGluZyAoZS5nLiwgYnl0ZXMgdG8gR2lCKSBhcyBuZWVkZWRcbiAgICAgICAgdmFsdWU6IGpzb25EYXRhLnNwZWM/LnNpemUgfHwgJy0nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ05vZGUnLFxuICAgICAgICB2YWx1ZToganNvbkRhdGEuc3RhdHVzPy5jdXJyZW50Tm9kZUlEIHx8ICctJywgLy8gTWlnaHQgbGluayB0byBOb2RlIGRldGFpbCBsYXRlclxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0F0dGFjaGVkJyxcbiAgICAgICAgdmFsdWU6IGpzb25EYXRhLnN0YXR1cz8uc3RhdGUgPT09ICdhdHRhY2hlZCcgPyAnWWVzJyA6ICdObycsXG4gICAgICB9LFxuICAgICAgIHtcbiAgICAgICAgbmFtZTogJ1JvYnVzdG5lc3MnLFxuICAgICAgICB2YWx1ZToganNvbkRhdGEuc3RhdHVzPy5yb2J1c3RuZXNzIHx8ICctJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdSZXBsaWNhcycsXG4gICAgICAgIHZhbHVlOiBqc29uRGF0YS5zcGVjPy5udW1iZXJPZlJlcGxpY2FzIHx8ICctJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdGcm9udGVuZCcsXG4gICAgICAgIHZhbHVlOiBqc29uRGF0YS5zcGVjPy5mcm9udGVuZCB8fCAnLScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU3RhbGUgUmVwbGljYSBUaW1lb3V0JyxcbiAgICAgICAgdmFsdWU6IGAke2pzb25EYXRhLnNwZWM/LnN0YWxlUmVwbGljYVRpbWVvdXQgfHwgJy0nfSBtaW5gLFxuICAgICAgfSxcbiAgICAgIC8vIEFkZCBtb3JlIHJlbGV2YW50IGZpZWxkcyBmcm9tIHNwZWMgYW5kIHN0YXR1c1xuICAgIF07XG4gIH1cblxuICAvLyBEZWZpbmUgYWN0aW9ucyAocGxhY2Vob2xkZXIgZm9yIG5vdywgYWRhcHQgaWYgTG9uZ2hvcm4gc3VwcG9ydHMgYWN0aW9ucylcbiAgZnVuY3Rpb24gcHJlcGFyZUFjdGlvbnMoKSB7XG4gICAgY29uc3QgYWN0aW9uczogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTtcbiAgICAvLyBFeGFtcGxlOiBBZGQgYWN0aW9ucyBpZiBhcHBsaWNhYmxlXG4gICAgLy8gYWN0aW9ucy5wdXNoKDxTb21lTG9uZ2hvcm5BY3Rpb24gcmVzb3VyY2U9e3ZvbHVtZX0gLz4pO1xuICAgIHJldHVybiBhY3Rpb25zO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPE1haW5JbmZvU2VjdGlvblxuICAgICAgICByZXNvdXJjZT17dm9sdW1lfSAvLyBQYXNzIHRoZSBLdWJlT2JqZWN0XG4gICAgICAgIGV4dHJhSW5mbz17cHJlcGFyZUV4dHJhSW5mbyh2b2x1bWUpfSAvLyBQYXNzIHRoZSBwcmVwYXJlZCBpbmZvXG4gICAgICAgIGFjdGlvbnM9e3ByZXBhcmVBY3Rpb25zKCl9IC8vIFBhc3MgcHJlcGFyZWQgYWN0aW9uc1xuICAgICAgLz5cbiAgICAgIHsvKiBSZW5kZXIgQ29uZGl0aW9uc1RhYmxlIGlmIGNvbmRpdGlvbnMgZXhpc3QgKi99XG4gICAgICB7dm9sdW1lPy5qc29uRGF0YT8uc3RhdHVzPy5jb25kaXRpb25zICYmIChcbiAgICAgICAgPFNlY3Rpb25Cb3ggdGl0bGU9XCJDb25kaXRpb25zXCI+XG4gICAgICAgICAgPENvbmRpdGlvbnNUYWJsZSByZXNvdXJjZT17dm9sdW1lLmpzb25EYXRhfSBzaG93TGFzdFVwZGF0ZT17dHJ1ZX0gLz5cbiAgICAgICAgPC9TZWN0aW9uQm94PlxuICAgICAgKX1cbiAgICAgIHsvKiBSZW5kZXIgUmVwbGljYXMgdGFibGUgKi99XG4gICAgICB7dm9sdW1lPy5qc29uRGF0YT8uc3RhdHVzPy5yZXBsaWNhcyAmJiAoXG4gICAgICAgICA8U2VjdGlvbkJveCB0aXRsZT1cIlJlcGxpY2FzXCI+XG4gICAgICAgICAgICAgey8qIENyZWF0ZSBhIGRlZGljYXRlZCBSZXBsaWNhc1RhYmxlIGNvbXBvbmVudCBsYXRlciAqL31cbiAgICAgICAgICAgICA8TmFtZVZhbHVlVGFibGUgXG4gICAgICAgICAgICAgICAgcm93cz17dm9sdW1lLmpzb25EYXRhLnN0YXR1cy5yZXBsaWNhcy5tYXAoKHJlcDogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXAubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGBNb2RlOiAke3JlcC5tb2RlfSwgSGVhbHRoeTogJHtyZXAuaGVhbHRoeUF0ID8gJ1llcycgOiAnTm8nfWBcbiAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgLz5cbiAgICAgICAgIDwvU2VjdGlvbkJveD5cbiAgICAgICl9XG5cbiAgICAgICB7LyogUmVuZGVyIEt1YmVybmV0ZXMgU3RhdHVzICovfVxuICAgICAgIHt2b2x1bWU/Lmpzb25EYXRhPy5zdGF0dXM/Lmt1YmVybmV0ZXNTdGF0dXMgJiYgKFxuICAgICAgICAgPFNlY3Rpb25Cb3ggdGl0bGU9XCJLdWJlcm5ldGVzIFN0YXR1c1wiPlxuICAgICAgICAgICA8TmFtZVZhbHVlVGFibGUgXG4gICAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdQViBOYW1lJywgdmFsdWU6IHZvbHVtZS5qc29uRGF0YS5zdGF0dXMua3ViZXJuZXRlc1N0YXR1cy5wdk5hbWUgfHwgJy0nIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnUFYgU3RhdHVzJywgdmFsdWU6IHZvbHVtZS5qc29uRGF0YS5zdGF0dXMua3ViZXJuZXRlc1N0YXR1cy5wdlN0YXR1cyB8fCAnLScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdQVkMgTmFtZScsIHZhbHVlOiB2b2x1bWUuanNvbkRhdGEuc3RhdHVzLmt1YmVybmV0ZXNTdGF0dXMucHZjTmFtZSB8fCAnLScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdOYW1lc3BhY2UnLCB2YWx1ZTogdm9sdW1lLmpzb25EYXRhLnN0YXR1cy5rdWJlcm5ldGVzU3RhdHVzLm5hbWVzcGFjZSB8fCAnLScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdMYXN0IFBvZCBSZWYgQXQnLCB2YWx1ZTogdm9sdW1lLmpzb25EYXRhLnN0YXR1cy5rdWJlcm5ldGVzU3RhdHVzLmxhc3RQb2RSZWZBdCB8fCAnLScgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgLz5cbiAgICAgICAgIDwvU2VjdGlvbkJveD5cbiAgICAgICApfVxuXG4gICAgICB7LyogQWRkIE9iamVjdEV2ZW50cyBjb21wb25lbnQgaWYgaGVscGVyIGlzIGF2YWlsYWJsZSAqL31cbiAgICAgIHsvKiB7dm9sdW1lICYmIChcbiAgICAgICAgPE9iamVjdEV2ZW50cyBcbiAgICAgICAgICAgIG5hbWVzcGFjZT17bmFtZXNwYWNlfSBcbiAgICAgICAgICAgIG5hbWU9e25hbWV9IFxuICAgICAgICAgICAgcmVzb3VyY2VDbGFzcz17dm9sdW1lQ2xhc3MoKX0gXG4gICAgICAgIC8+XG4gICAgICApfSAqL31cbiAgICAgIHsvKiBBZGQgbW9yZSBzZWN0aW9ucyBhcyBuZWVkZWQsIGUuZy4sIFNuYXBzaG90cywgQmFja3VwcyBhc3NvY2lhdGVkIHdpdGggdGhlIHZvbHVtZSAqL31cbiAgICA8Lz5cbiAgKTtcbn0gIiwiaW1wb3J0IHtcbiAgcmVnaXN0ZXJSb3V0ZSxcbiAgcmVnaXN0ZXJTaWRlYmFyRW50cnksXG59IGZyb20gJ0BraW52b2xrL2hlYWRsYW1wLXBsdWdpbi9saWInO1xuXG4vLyBJbXBvcnQgTG9uZ2hvcm4gbGlzdCBhbmQgZGV0YWlsIHZpZXcgY29tcG9uZW50c1xuaW1wb3J0IHsgVm9sdW1lcyB9IGZyb20gJy4vbG9uZ2hvcm4vVm9sdW1lTGlzdCc7XG5pbXBvcnQgeyBWb2x1bWVEZXRhaWwgfSBmcm9tICcuL2xvbmdob3JuL1ZvbHVtZURldGFpbCc7XG5cbi8vIFJlZ2lzdGVyIGEgdG9wLWxldmVsIHNpZGViYXIgZW50cnkgZm9yIExvbmdob3JuXG5yZWdpc3RlclNpZGViYXJFbnRyeSh7XG4gIHBhcmVudDogbnVsbCwgLy8gbnVsbCBtYWtlcyBpdCBhIHRvcC1sZXZlbCBlbnRyeVxuICBuYW1lOiAnbG9uZ2hvcm4nLFxuICBsYWJlbDogJ0xvbmdob3JuJyxcbiAgdXJsOiAnL2xvbmdob3JuJywgLy8gRGVmYXVsdCB2aWV3LCBlLmcuLCBWb2x1bWVzIGxpc3RcbiAgaWNvbjogJ21kaTpjb3cnLCAvLyBFeGFtcGxlIGljb24sIGNob29zZSBhIHN1aXRhYmxlIG9uZVxufSk7XG5cbi8vIFJlZ2lzdGVyIGEgc2lkZWJhciBlbnRyeSBzcGVjaWZpY2FsbHkgZm9yIFZvbHVtZXMgdW5kZXIgTG9uZ2hvcm5cbnJlZ2lzdGVyU2lkZWJhckVudHJ5KHtcbiAgcGFyZW50OiAnbG9uZ2hvcm4nLFxuICBuYW1lOiAndm9sdW1lcycsXG4gIGxhYmVsOiAnVm9sdW1lcycsXG4gIHVybDogJy9sb25naG9ybi92b2x1bWVzJyxcbiAgLy8gaWNvbjogJ21kaTpkYXRhYmFzZScsIC8vIE9wdGlvbmFsIGljb24gZm9yIHN1Yi1lbnRyeVxufSk7XG5cbi8vIFJvdXRlIGZvciB0aGUgbWFpbiBMb25naG9ybiBWb2x1bWVzIGxpc3Qgdmlld1xucmVnaXN0ZXJSb3V0ZSh7XG4gIHBhdGg6ICcvbG9uZ2hvcm4vdm9sdW1lcycsXG4gIG5hbWU6ICdsb25naG9ybi92b2x1bWVzJyxcbiAgcGFyZW50OiAnbG9uZ2hvcm4nLCAvLyBBc3NvY2lhdGUgd2l0aCB0aGUgdG9wLWxldmVsIExvbmdob3JuIGVudHJ5XG4gIHNpZGViYXI6ICd2b2x1bWVzJywgLy8gQXNzb2NpYXRlIHdpdGggdGhlIFZvbHVtZXMgc2lkZWJhciBlbnRyeVxuICBjb21wb25lbnQ6IFZvbHVtZXMsIC8vIFVzZSB0aGUgVm9sdW1lcyBjb21wb25lbnRcbiAgZXhhY3Q6IHRydWUsXG59KTtcblxuLy8gUm91dGUgZm9yIHRoZSBMb25naG9ybiBWb2x1bWUgZGV0YWlsIHZpZXdcbnJlZ2lzdGVyUm91dGUoe1xuICAvLyA6bmFtZXNwYWNlIGFuZCA6bmFtZSBhcmUgcGFyYW1ldGVycyBjYXB0dXJlZCBmcm9tIHRoZSBVUkxcbiAgcGF0aDogJy9sb25naG9ybi92b2x1bWVzLzpuYW1lc3BhY2UvOm5hbWUnLFxuICBuYW1lOiAnbG9uZ2hvcm4vdm9sdW1lL2RldGFpbCcsIC8vIFVuaXF1ZSBuYW1lIGZvciB0aGUgZGV0YWlsIHJvdXRlXG4gIHBhcmVudDogJ2xvbmdob3JuJywgLy8gQXNzb2NpYXRlIHdpdGggdGhlIHRvcC1sZXZlbCBMb25naG9ybiBlbnRyeVxuICBzaWRlYmFyOiAndm9sdW1lcycsIC8vIEtlZXAgdGhlIFZvbHVtZXMgc2lkZWJhciBpdGVtIHNlbGVjdGVkXG4gIGNvbXBvbmVudDogVm9sdW1lRGV0YWlsLCAvLyBVc2UgdGhlIFZvbHVtZURldGFpbCBjb21wb25lbnRcbiAgZXhhY3Q6IHRydWUsXG59KTtcblxuLy8gUGxhY2Vob2xkZXIgZm9yIG90aGVyIExvbmdob3JuIHNlY3Rpb25zIChOb2RlcywgQmFja3VwcywgU2V0dGluZ3MsIGV0Yy4pXG4vLyBSZWdpc3RlciBzaWRlYmFyIGVudHJpZXMgYW5kIHJvdXRlcyBmb3IgdGhlbSBzaW1pbGFybHkuLi5cblxuLyogRXhhbXBsZTogTm9kZXMgc2VjdGlvblxucmVnaXN0ZXJTaWRlYmFyRW50cnkoe1xuICBwYXJlbnQ6ICdsb25naG9ybicsXG4gIG5hbWU6ICdub2RlcycsXG4gIGxhYmVsOiAnTm9kZXMnLFxuICB1cmw6ICcvbG9uZ2hvcm4vbm9kZXMnLFxufSk7XG5cbnJlZ2lzdGVyUm91dGUoe1xuICBwYXRoOiAnL2xvbmdob3JuL25vZGVzJyxcbiAgbmFtZTogJ2xvbmdob3JuL25vZGVzJyxcbiAgcGFyZW50OiAnbG9uZ2hvcm4nLFxuICBzaWRlYmFyOiAnbm9kZXMnLFxuICBjb21wb25lbnQ6ICgpID0+IDxkaXY+TG9uZ2hvcm4gTm9kZXMgTGlzdCBQbGFjZWhvbGRlcjwvZGl2PiwgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCBOb2Rlc0xpc3QgY29tcG9uZW50XG4gIGV4YWN0OiB0cnVlLFxufSk7XG5cbnJlZ2lzdGVyUm91dGUoe1xuICBwYXRoOiAnL2xvbmdob3JuL25vZGVzLzpuYW1lc3BhY2UvOm5hbWUnLCAvLyBBc3N1bWluZyBub2RlcyBhcmUgbmFtZXNwYWNlZCBpbiBMb25naG9yblxuICBuYW1lOiAnbG9uZ2hvcm4vbm9kZS9kZXRhaWwnLFxuICBwYXJlbnQ6ICdsb25naG9ybicsXG4gIHNpZGViYXI6ICdub2RlcycsXG4gIGNvbXBvbmVudDogKCkgPT4gPGRpdj5Mb25naG9ybiBOb2RlIERldGFpbCBQbGFjZWhvbGRlcjwvZGl2PiwgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCBOb2RlRGV0YWlsIGNvbXBvbmVudFxuICBleGFjdDogdHJ1ZSxcbn0pO1xuKi9cblxuLy8gUmVtb3ZlIG9yIGtlZXAgdGhlIGluaXRpYWwgZGVmYXVsdCBleGFtcGxlIGFjdGlvblxuLy8gcmVnaXN0ZXJBcHBCYXJBY3Rpb24oPHNwYW4+SGVsbG88L3NwYW4+KTtcbiJdLCJuYW1lcyI6WyJsb25naG9ybkdyb3VwIiwibG9uZ2hvcm5WZXJzaW9uIiwidm9sdW1lQ2xhc3MiLCJtYWtlQ3VzdG9tUmVzb3VyY2VDbGFzcyIsImNvbnNvbmFudHMiLCJQbHVyYWxOYW1lIiwia2luZCIsImtub3duUGx1cmFscyIsInNpbmd1bGFyIiwibGFzdENoYXIiLCJiZWZvcmVMYXN0Q2hhciIsImlzQ29uc29uYW50IiwiaWVzUGx1cmFsIiwic1BsdXJhbCIsImVzUGx1cmFsIiwidmVzUGx1cmFsIiwicnVuZSIsIk5hbWVMaW5rIiwicmVzb3VyY2VDbGFzcyIsInJvdXRlTmFtZVByZWZpeCIsImNlbGwiLCJyb3ciLCJqc3giLCJMaW5rIiwiU3RhdHVzTGFiZWwiLCJwcm9wcyIsIml0ZW0iLCJfYSIsImxvbmdob3JuU3RhdGUiLCJzdGF0dXNUeXBlIiwic3RhdHVzVGV4dCIsIkhMU3RhdHVzTGFiZWwiLCJyZWFkeSIsIl9iIiwiX2QiLCJfYyIsIlRvb2x0aXAiLCJpc1JlYWR5IiwicHJlcGFyZUxhc3RVcGRhdGVkIiwiY29uZGl0aW9uIiwiYyIsIl9lIiwicHJlcGFyZU5hbWVDb2x1bW4iLCJjb2xQcm9wcyIsInJvdXRlTmFtZSIsImdlbmVyaWNQcm9wcyIsIlRhYmxlIiwiY29sdW1ucyIsImRhdGEiLCJvdGhlclByb3BzIiwicHJvY2Vzc2VkQ29sdW1ucyIsIlJlYWN0IiwiY29sdW1uIiwiRGF0ZUxhYmVsIiwibWVzc2FnZSIsIlNob3dIaWRlTGFiZWwiLCJIVGFibGUiLCJWb2x1bWVzIiwiZmlsdGVyRnVuY3Rpb24iLCJ1c2VGaWx0ZXJGdW5jIiwidm9sdW1lcyIsImVycm9yIiwiU2VjdGlvbkJveCIsImpzeHMiLCJTZWN0aW9uRmlsdGVySGVhZGVyIiwiVm9sdW1lRGV0YWlsIiwibmFtZXNwYWNlIiwibmFtZSIsInVzZVBhcmFtcyIsInZvbHVtZSIsInByZXBhcmVFeHRyYUluZm8iLCJqc29uRGF0YSIsIl9mIiwiX2ciLCJfaCIsInByZXBhcmVBY3Rpb25zIiwiRnJhZ21lbnQiLCJNYWluSW5mb1NlY3Rpb24iLCJDb25kaXRpb25zVGFibGUiLCJOYW1lVmFsdWVUYWJsZSIsInJlcCIsInJlZ2lzdGVyU2lkZWJhckVudHJ5IiwicmVnaXN0ZXJSb3V0ZSJdLCJtYXBwaW5ncyI6Ink3QkFFTUEsRUFBZ0IsY0FFaEJDLEVBQWtCLFVBRWpCLFNBQVNDLEdBQWMsQ0FDNUIsT0FBT0MsMEJBQXdCLENBQzdCLFFBQVMsQ0FBQyxDQUFFLE1BQU9ILEVBQWUsUUFBU0MsRUFBaUIsRUFDNUQsYUFBYyxHQUNkLGFBQWMsU0FDZCxXQUFZLFNB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
